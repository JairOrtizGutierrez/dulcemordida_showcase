"use strict";(self.webpackChunkshowcase=self.webpackChunkshowcase||[]).push([[889],{7889:(A,c,o)=>{o.r(c),o.d(c,{LoginModule:()=>L});var d=o(6814),t=o(95),g=o(4808),h=o(6306),v=o(6232),b=o(4716),u=o(6055),C=o(1882),M=o(3221),O=o(2045),m=o(3737),f=o(2933),n=o(5879),y=o(368);const x=function(e){return{hide:e}},p=function(e){return{"d-none":e}},P=[{path:"",component:(()=>{var e;class s{constructor(r,i,l,F,S,w){this.router=r,this.loginService=i,this.formService=l,this.unsubscriberService=F,this.cdr=S,this.ngZone=w,this.isLoading=!1,this.error=!1,this.errorMessage="",this.credentialsErrorMessage="Datos incorrectos",this.internetErrorMessage="Ocurri\xf3 un error",this.userForm=new t.cw({id:new t.NI(0,{nonNullable:!0}),nombre:new t.NI("",{nonNullable:!0}),correo:new t.NI(null!=sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user"))?.correo:"",{nonNullable:!0,validators:[t.kI.email,t.kI.required]}),contrase\u00f1a:new t.NI(null!=sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user"))?.contrase\u00f1a:"",{nonNullable:!0,validators:t.kI.required}),rol:new t.NI("",{nonNullable:!0})})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,u.j)(".title, .subtitle, form > div",{opacity:0}),(0,C.Z)([["#user-login",{x:["100%","0"],opacity:[0,1]},{duration:.8,easing:"ease-in-out",allowWebkitAcceleration:!0}],[".title, .subtitle, form > div",{y:["20px","0px"],opacity:[0,1]},{easing:(0,M.S)(),at:"-0.1",delay:(0,O.EY)(.1),allowWebkitAcceleration:!0}],["#login-background",{x:["-50%","0"],opacity:[0,1]},{duration:.8,at:"-1.8",easing:"ease-in-out",allowWebkitAcceleration:!0}]])})}onSubmit(){if(!this.isFormInvalid()){this.isLoading=!0,this.error=!1,this.errorMessage="";const{correo:r,contrase\u00f1a:i}=this.userForm.value;this.loginService.login(this.userForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,h.K)(()=>(this.error=!0,this.errorMessage=this.internetErrorMessage,v.E)),(0,b.x)(()=>{this.isLoading=!1,this.cdr.markForCheck()})).subscribe(l=>{null!=l&&l.correo==r.toLowerCase()&&l.contrase\u00f1a==i?((0,u.j)("#login-background",{width:"100%",opacity:0},{duration:.5,easing:"ease-in-out",allowWebkitAcceleration:!0}).finished.then(()=>this.router.navigate(["admin"])),(0,u.j)("#user-login",{x:"100%"},{duration:.5,easing:"ease-in-out",allowWebkitAcceleration:!0})):(this.error=!0,this.errorMessage=this.credentialsErrorMessage)})}}isFormInvalid(){return this.formService.isFormInvalid(this.userForm)}}return(e=s).\u0275fac=function(r){return new(r||e)(n.Y36(g.F0),n.Y36(y.r),n.Y36(f.F),n.Y36(m.$),n.Y36(n.sBO),n.Y36(n.R0b))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],features:[n._Bn([f.F,m.$])],decls:25,vars:12,consts:[[1,"row","gx-0"],["id","login-background",1,"col-xl-7","col-xxl-8","d-none","d-xl-flex","justify-content-center","align-items-center"],["src","assets/icons/user-login.svg","width","600"],["id","user-login",1,"col-12","col-xl-5","col-xxl-4","bg-white"],[1,"d-flex","justify-content-center","align-items-center","mx-auto","vh-100"],[1,"w-100"],[1,"title","d-block"],[1,"subtitle","d-block","mb-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","userEmail",1,"form-label"],["type","text","id","userEmail","formControlName","correo",1,"form-control","border-secondary"],["for","userPassword",1,"form-label"],["type","password","id","userPassword","formControlName","contrase\xf1a","autocomplete","true",1,"form-control","border-secondary"],["id","error",1,"text-danger","d-block","mb-2",3,"ngClass","innerHTML"],["type","submit",1,"btn","text-white","p-2","w-100",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"]],template:function(r,i){1&r&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"img",2),n.qZA(),n.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),n._uU(7,"Dulce Mordida"),n.qZA(),n.TgZ(8,"span",7),n._uU(9,"Administrador"),n.qZA(),n.TgZ(10,"form",8),n.NdJ("ngSubmit",function(){return i.onSubmit()}),n.TgZ(11,"div",9)(12,"label",10),n._uU(13,"Correo electr\xf3nico"),n.qZA(),n._UZ(14,"input",11),n.qZA(),n.TgZ(15,"div",9)(16,"label",12),n._uU(17,"Contrase\xf1a"),n.qZA(),n._UZ(18,"input",13),n.qZA(),n.TgZ(19,"div"),n._UZ(20,"span",14),n.TgZ(21,"button",15)(22,"span",16),n._uU(23,"Enviar"),n.qZA(),n._UZ(24,"img",17),n.qZA()()()()()()()),2&r&&(n.xp6(10),n.Q6J("formGroup",i.userForm),n.xp6(10),n.Q6J("ngClass",n.VKq(6,x,!i.error))("innerHTML",i.errorMessage,n.oJD),n.xp6(1),n.Q6J("disabled",i.isFormInvalid()||i.isLoading),n.xp6(1),n.Q6J("ngClass",n.VKq(8,p,i.isLoading)),n.xp6(2),n.Q6J("ngClass",n.VKq(10,p,!i.isLoading)))},dependencies:[d.mk,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u],styles:["#login-background[_ngcontent-%COMP%]{height:100vh}#user-login[_ngcontent-%COMP%]{position:absolute;right:0}#user-login[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:300px}#user-login[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:poppins-semibold;font-size:24px;color:#000}#user-login[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-family:poppins-regular;font-size:14px;color:#000}#user-login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:poppins-medium;font-size:14px;color:#000}#user-login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none}#user-login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #error[_ngcontent-%COMP%]{height:21px;font-family:poppins-medium;font-size:14px}#user-login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #error.hide[_ngcontent-%COMP%]{opacity:0}#user-login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:poppins-medium;background-color:#432818}#user-login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#432818}"],changeDetection:0}),s})()},{path:"**",redirectTo:""}];let Z=(()=>{var e;class s{}return(e=s).\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.Bz.forChild(P),g.Bz]}),s})(),L=(()=>{var e;class s{}return(e=s).\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[d.ez,Z,t.UX]}),s})()}}]);