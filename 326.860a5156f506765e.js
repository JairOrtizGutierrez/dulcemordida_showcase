"use strict";(self.webpackChunkshowcase=self.webpackChunkshowcase||[]).push([[326],{2326:(ro,Y,l)=>{l.r(Y),l.d(Y,{ProductsModule:()=>no});var h=l(6814),A=l(4808),f=l(1882),c=l(3221),g=l(2045),t=l(5879),b=l(6472),C=l(1599),I=l(1096),w=l(3144),B=l(4356),J=l(9662),F=l(3867),U=l(8871),O=l(4741),P=l(1698),E=l(215),L=l(6564),D=l(7775);function dt(n,s){1&n&&t._UZ(0,"img",33)}function lt(n,s){1&n&&t._UZ(0,"img",34)}const ct=function(){return["Productos","Lista de productos"]};let ut=(()=>{var n;class s{constructor(o){this.ngZone=o,this.limit=10,this.entrypoint="/productos",this.identifier="id",this.hasEditButton=!0,this.hasDeleteButton=!0,this.fieldActionName="Acci\xf3n",this.keys=[{property:["id"],type:"TEXT",header:"Id"},{property:["nombre"],type:"TEXT",header:"Nombre"},{property:["subCategoria","categoria","nombre"],type:"TEXT",header:"Categor\xeda"},{property:["subCategoria","nombre"],type:"TEXT",header:"Subcategor\xeda"},{property:["marca","nombre"],type:"TEXT",header:"Marca"},{property:["medida","nombre"],type:"TEXT",header:"Medida"},{property:["precio"],type:"MONEY",header:"Precio"},{property:["imagen"],type:"IMAGE",header:"Imagen"}],this.selectOptions=[10,15,20],this.preposition="de",this.editPageUrl="/products/list/edit",this.addPageUrl="/products/add",this.deleteModalHeaderText="Borrar producto",this.deleteModalBodyText="\xbfEst\xe1s seguro que deseas borrar el producto?",this.deleteModalFooterButtonCloseText="Cerrar",this.deleteModalFooterButtonExecuteText="Borrar",this.errorModalHeaderText="Error",this.errorModalBodyText="Ocurri\xf3 un error, int\xe9ntelo de nuevo",this.errorModalFooterButtonCloseText="Cerrar",this.xlsxFileName="lista-productos",this.xlsxPrimaryColor="#432818",this.xlsxSecondaryColor="#F7EFE2",this.pdfFileName="lista-productos",this.hasImage=!0,this.imageUrl="https://i.imgur.com/5ZrMWpD.jpg",this.imageWidth=50,this.imageHeight=25,this.pdfPrimaryColor="#432818",this.pdfSecondaryColor="#F7EFE2"}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-list"]],decls:52,vars:44,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],[1,"row","gy-4"],[1,"col-12","col-xl-4"],[1,"d-block","mb-2"],[3,"placeholder"],["src","assets/icons/search.svg","width","18px","height","18px",1,"mx-3"],[1,"col","d-none","d-xl-block"],[1,"d-flex","justify-content-between","justify-content-xl-end","align-items-end","h-100"],[3,"fileName","hasImage","imageUrl","imageWidth","imageHeight","primaryColor","secondaryColor"],[3,"fileName","height","width"],[1,"mx-4",3,"fileName","primaryColor","secondaryColor"],[1,"d-flex",3,"addPageUrl"],[1,"add-item"],["src","assets/icons/plus.svg","width","18px","height","18px"],[1,"text-nowrap","mx-2"],[1,"col-12"],[3,"entrypoint","dataKeys","identifier","hasEditButton","hasDeleteButton","editPageUrl","fieldActionName","deleteModalHeaderText","deleteModalBodyText","deleteModalFooterButtonCloseText","deleteModalFooterButtonExecuteText","errorModalHeaderText","errorModalBodyText","errorModalFooterButtonCloseText"],["editButton",""],["deleteButton",""],["dataError",""],[3,"fileName","loop","height","width"],["emptyData",""],["notLoaded",""],["src","assets/icons/brown-spinner.svg","width","40px","height","40px"],[1,"col-12","col-lg-6"],[1,"d-flex","justify-content-center","justify-content-lg-start","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-4"],[1,"d-flex","justify-content-center","justify-content-lg-end","align-items-center"],[1,"d-none","d-lg-block",3,"preposition"],[1,"me-4","mx-lg-4"],["src","assets/icons/pencil.svg","width","24px","height","24px"],["src","assets/icons/trash.svg","width","24px","height","24px"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"ngx-table")(5,"div",3)(6,"div",4)(7,"span",5),t._uU(8,"Buscar por nombre"),t.qZA(),t.TgZ(9,"ngx-table-search-input",6),t._UZ(10,"img",7),t.qZA()(),t._UZ(11,"div",8),t.TgZ(12,"div",4)(13,"div",9)(14,"div")(15,"ngx-table-pdf-export-button",10),t._UZ(16,"app-lottie",11),t.qZA(),t.TgZ(17,"ngx-table-xls-export-button",12),t._UZ(18,"app-lottie",11),t.qZA()(),t.TgZ(19,"ngx-table-add-button",13)(20,"div",14)(21,"div"),t._UZ(22,"img",15),t.TgZ(23,"span",16),t._uU(24,"A\xf1adir"),t.qZA()()()()()(),t.TgZ(25,"div",17)(26,"ngx-table-data-table",18),t.YNc(27,dt,1,0,"ng-template",null,19,t.W1O),t.YNc(29,lt,1,0,"ng-template",null,20,t.W1O),t.TgZ(31,"div",21),t._UZ(32,"app-lottie",22),t.qZA(),t.TgZ(33,"div",23),t._UZ(34,"app-lottie",22),t.qZA(),t.TgZ(35,"div",24),t._UZ(36,"img",25),t.qZA()()(),t.TgZ(37,"div",26)(38,"div",27)(39,"div",28)(40,"span",29),t._uU(41,"Filas por p\xe1gina"),t.qZA(),t._UZ(42,"ngx-table-pagination-select"),t.qZA()()(),t.TgZ(43,"div",26)(44,"div",30),t._UZ(45,"ngx-table-info-items",31),t.TgZ(46,"ngx-table-previous-button",32)(47,"span"),t._uU(48,"Anterior"),t.qZA()(),t.TgZ(49,"ngx-table-next-button")(50,"span"),t._uU(51,"Siguiente"),t.qZA()()()()()()()()()),2&o&&(t.xp6(2),t.Q6J("title","Lista de productos")("items",t.DdM(43,ct)),t.xp6(7),t.Q6J("placeholder","Buscar"),t.xp6(6),t.Q6J("fileName",e.pdfFileName)("hasImage",e.hasImage)("imageUrl",e.imageUrl)("imageWidth",e.imageWidth)("imageHeight",e.imageHeight)("primaryColor",e.pdfPrimaryColor)("secondaryColor",e.pdfSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-pdf-animated")("height",24)("width",24),t.xp6(1),t.Q6J("fileName",e.xlsxFileName)("primaryColor",e.xlsxPrimaryColor)("secondaryColor",e.xlsxSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-xls-animated")("height",24)("width",24),t.xp6(1),t.Q6J("addPageUrl",e.addPageUrl),t.xp6(7),t.Q6J("entrypoint",e.entrypoint)("dataKeys",e.keys)("identifier",e.identifier)("hasEditButton",e.hasEditButton)("hasDeleteButton",e.hasDeleteButton)("editPageUrl",e.editPageUrl)("fieldActionName",e.fieldActionName)("deleteModalHeaderText",e.deleteModalHeaderText)("deleteModalBodyText",e.deleteModalBodyText)("deleteModalFooterButtonCloseText",e.deleteModalFooterButtonCloseText)("deleteModalFooterButtonExecuteText",e.deleteModalFooterButtonExecuteText)("errorModalHeaderText",e.errorModalHeaderText)("errorModalBodyText",e.errorModalBodyText)("errorModalFooterButtonCloseText",e.errorModalFooterButtonCloseText),t.xp6(6),t.Q6J("fileName","data-error-animated")("loop",!0)("height",400)("width",400),t.xp6(2),t.Q6J("fileName","no-data-animated")("loop",!0)("height",400)("width",400),t.xp6(11),t.Q6J("preposition",e.preposition))},dependencies:[b.r,C.H,I.e,w.J,B.h,J.i,F.e,U.T,O.P,P.y,E.e,L.g,D.$],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),s})();function pt(n,s){1&n&&t._UZ(0,"img",33)}function gt(n,s){1&n&&t._UZ(0,"img",34)}const mt=function(){return["Categor\xedas","Lista de categor\xedas"]};let ht=(()=>{var n;class s{constructor(o){this.ngZone=o,this.limit=10,this.entrypoint="/categorias",this.identifier="id",this.hasEditButton=!0,this.hasDeleteButton=!0,this.fieldActionName="Acci\xf3n",this.keys=[{property:["id"],type:"TEXT",header:"Id"},{property:["nombre"],type:"TEXT",header:"Nombre"}],this.selectOptions=[10,15,20],this.preposition="de",this.editPageUrl="/products/categories/edit",this.addPageUrl="/products/categories/add",this.deleteModalHeaderText="Borrar categor\xeda",this.deleteModalBodyText="\xbfEst\xe1s seguro que deseas borrar la categor\xeda?",this.deleteModalFooterButtonCloseText="Cerrar",this.deleteModalFooterButtonExecuteText="Borrar",this.errorModalHeaderText="Error",this.errorModalBodyText="Ocurri\xf3 un error, int\xe9ntelo de nuevo",this.errorModalFooterButtonCloseText="Cerrar",this.xlsxFileName="lista-categorias",this.xlsxPrimaryColor="#432818",this.xlsxSecondaryColor="#F7EFE2",this.pdfFileName="lista-categorias",this.hasImage=!0,this.imageUrl="https://i.imgur.com/5ZrMWpD.jpg",this.imageWidth=50,this.imageHeight=25,this.pdfPrimaryColor="#432818",this.pdfSecondaryColor="#F7EFE2"}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-list"]],decls:52,vars:44,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],[1,"row","gy-4"],[1,"col-12","col-xl-4"],[1,"d-block","mb-2"],[3,"placeholder"],["src","assets/icons/search.svg","width","18px","height","18px",1,"mx-3"],[1,"col","d-none","d-xl-block"],[1,"d-flex","justify-content-between","justify-content-md-end","align-items-end","h-100"],[3,"fileName","hasImage","imageUrl","imageWidth","imageHeight","primaryColor","secondaryColor"],[3,"fileName","height","width"],[1,"mx-4",3,"fileName","primaryColor","secondaryColor"],[1,"d-flex",3,"addPageUrl"],[1,"add-item"],["src","assets/icons/plus.svg","width","18px","height","18px"],[1,"text-nowrap","mx-2"],[1,"col-12"],[3,"entrypoint","dataKeys","identifier","hasEditButton","hasDeleteButton","editPageUrl","fieldActionName","deleteModalHeaderText","deleteModalBodyText","deleteModalFooterButtonCloseText","deleteModalFooterButtonExecuteText","errorModalHeaderText","errorModalBodyText","errorModalFooterButtonCloseText"],["editButton",""],["deleteButton",""],["dataError",""],[3,"fileName","loop","height","width"],["emptyData",""],["notLoaded",""],["src","assets/icons/brown-spinner.svg","width","40px","height","40px"],[1,"col-12","col-lg-6"],[1,"d-flex","justify-content-center","justify-content-lg-start","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-4"],[1,"d-flex","justify-content-center","justify-content-lg-end","align-items-center"],[1,"d-none","d-lg-block",3,"preposition"],[1,"me-4","mx-lg-4"],["src","assets/icons/pencil.svg","width","24px","height","24px"],["src","assets/icons/trash.svg","width","24px","height","24px"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"ngx-table")(5,"div",3)(6,"div",4)(7,"span",5),t._uU(8,"Buscar por nombre"),t.qZA(),t.TgZ(9,"ngx-table-search-input",6),t._UZ(10,"img",7),t.qZA()(),t._UZ(11,"div",8),t.TgZ(12,"div",4)(13,"div",9)(14,"div")(15,"ngx-table-pdf-export-button",10),t._UZ(16,"app-lottie",11),t.qZA(),t.TgZ(17,"ngx-table-xls-export-button",12),t._UZ(18,"app-lottie",11),t.qZA()(),t.TgZ(19,"ngx-table-add-button",13)(20,"div",14)(21,"div"),t._UZ(22,"img",15),t.TgZ(23,"span",16),t._uU(24,"A\xf1adir"),t.qZA()()()()()(),t.TgZ(25,"div",17)(26,"ngx-table-data-table",18),t.YNc(27,pt,1,0,"ng-template",null,19,t.W1O),t.YNc(29,gt,1,0,"ng-template",null,20,t.W1O),t.TgZ(31,"div",21),t._UZ(32,"app-lottie",22),t.qZA(),t.TgZ(33,"div",23),t._UZ(34,"app-lottie",22),t.qZA(),t.TgZ(35,"div",24),t._UZ(36,"img",25),t.qZA()()(),t.TgZ(37,"div",26)(38,"div",27)(39,"div",28)(40,"span",29),t._uU(41,"Filas por p\xe1gina"),t.qZA(),t._UZ(42,"ngx-table-pagination-select"),t.qZA()()(),t.TgZ(43,"div",26)(44,"div",30),t._UZ(45,"ngx-table-info-items",31),t.TgZ(46,"ngx-table-previous-button",32)(47,"span"),t._uU(48,"Anterior"),t.qZA()(),t.TgZ(49,"ngx-table-next-button")(50,"span"),t._uU(51,"Siguiente"),t.qZA()()()()()()()()()),2&o&&(t.xp6(2),t.Q6J("title","Lista de categor\xedas")("items",t.DdM(43,mt)),t.xp6(7),t.Q6J("placeholder","Buscar"),t.xp6(6),t.Q6J("fileName",e.pdfFileName)("hasImage",e.hasImage)("imageUrl",e.imageUrl)("imageWidth",e.imageWidth)("imageHeight",e.imageHeight)("primaryColor",e.pdfPrimaryColor)("secondaryColor",e.pdfSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-pdf-animated")("height",24)("width",24),t.xp6(1),t.Q6J("fileName",e.xlsxFileName)("primaryColor",e.xlsxPrimaryColor)("secondaryColor",e.xlsxSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-xls-animated")("height",24)("width",24),t.xp6(1),t.Q6J("addPageUrl",e.addPageUrl),t.xp6(7),t.Q6J("entrypoint",e.entrypoint)("dataKeys",e.keys)("identifier",e.identifier)("hasEditButton",e.hasEditButton)("hasDeleteButton",e.hasDeleteButton)("editPageUrl",e.editPageUrl)("fieldActionName",e.fieldActionName)("deleteModalHeaderText",e.deleteModalHeaderText)("deleteModalBodyText",e.deleteModalBodyText)("deleteModalFooterButtonCloseText",e.deleteModalFooterButtonCloseText)("deleteModalFooterButtonExecuteText",e.deleteModalFooterButtonExecuteText)("errorModalHeaderText",e.errorModalHeaderText)("errorModalBodyText",e.errorModalBodyText)("errorModalFooterButtonCloseText",e.errorModalFooterButtonCloseText),t.xp6(6),t.Q6J("fileName","data-error-animated")("loop",!0)("height",400)("width",400),t.xp6(2),t.Q6J("fileName","no-data-animated")("loop",!0)("height",400)("width",400),t.xp6(11),t.Q6J("preposition",e.preposition))},dependencies:[b.r,C.H,I.e,w.J,B.h,J.i,F.e,U.T,O.P,P.y,E.e,L.g,D.$],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),s})();var r=l(95),x=l(6306),M=l(6232),S=l(4716),p=l(5369),u=l(9999),y=l(4221),T=l(607),q=l(3918),Z=l(4344),N=l(8925),G=l(3989);const ft=["info"],_t=["error"];function bt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",32)(1,"span"),t._uU(2,"A\xf1adir producto"),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",34),t.qZA()(),t.TgZ(5,"div",35)(6,"span"),t._uU(7,"El producto fue a\xf1adido"),t.qZA()(),t.TgZ(8,"div",36)(9,"button",37),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function Ct(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",32)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",34),t.qZA()(),t.TgZ(5,"div",35)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",36)(9,"button",37),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const vt=function(){return["Productos","A\xf1adir producto"]},$=function(n){return{"d-none":n}};let xt=(()=>{var n;class s{constructor(o,e,i,d,m,_){this.dataService=o,this.formService=e,this.unsubscriberService=i,this.modalService=d,this.cdr=m,this.ngZone=_,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.producNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.productCategoryStateMessages={INIT:"Seleccionar categor\xeda",...this.repeatedStates},this.productSubcategoryStateMessages={INIT:"Seleccionar subcategor\xeda",...this.repeatedStates},this.productBrandStateMessages={INIT:"Seleccionar marca",...this.repeatedStates},this.productMeasureStateMessages={INIT:"Seleccionar medida",...this.repeatedStates},this.productPriceStateMessages={INIT:"Introducir precio",...this.repeatedStates},this.productImageStateMessages=this.repeatedStates,this.productStateStateMessages={INIT:"Seleccionar estado",...this.repeatedStates},this.productDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={productNameConfig:{state:"INIT"},productCategoryConfig:{entrypoint:"/categorias",state:"INIT"},productSubcategoryConfig:{state:"INIT"},productBrandConfig:{entrypoint:"/marcas",state:"INIT"},productMeasureConfig:{entrypoint:"/medidas",state:"INIT"},productPriceConfig:{state:"INIT"},productImageConfig:{state:"INIT"},productStateConfig:{entrypoint:"/estados",state:"INIT"},productDescriptionConfig:{state:"INIT"}},this.productForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),subCategoria:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),categoria:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})})}),marca:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),medida:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),imagen:new r.NI(new File([""],"")),precio:new r.NI("",{nonNullable:!0,validators:[r.kI.required,r.kI.pattern(/^\d+(\.\d{1,2})?$/)]}),estado:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),descripcion:new r.NI("")})}ngOnInit(){this.onLoad()}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onLoad(){this.categories$=this.formService.createObservableForSelect(this.configList.productCategoryConfig,!0,this.cdr),this.brands$=this.formService.createObservableForSelect(this.configList.productBrandConfig,!0,this.cdr),this.measures$=this.formService.createObservableForSelect(this.configList.productMeasureConfig,!0,this.cdr),this.states$=this.formService.createObservableForSelect(this.configList.productStateConfig,!0,this.cdr)}onSubmit(){if(!this.isFormInvalid()){this.isLoading=!0,this.formService.capitalizeFormControl(this.productForm);const o=new FormData;o.set("id",this.productForm.value.id.toString()),o.set("nombre",this.productForm.value.nombre),o.set("subCategoriaId",this.productForm.value.subCategoria.id.toString()),o.set("marcaId",this.productForm.value.marca.id.toString()),o.set("medidaId",this.productForm.value.medida.id.toString()),o.set("precio",this.productForm.value.precio),o.set("imagen",this.productForm.value.imagen),o.set("estadoId",this.productForm.value.estado.id.toString()),o.set("descripcion",this.productForm.value.descripcion),this.dataService.addDataFromEndPoint("/productos/fileSystem",o).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"}),this.productForm.reset()})}}isFormInvalid(){return this.formService.isFormInvalid(this.productForm)}onSubcategoryChange(o){const e=o;0!=e&&(this.productForm.controls.subCategoria.controls.id.reset(),this.configList.productSubcategoryConfig.entrypoint=`/categorias/${e}/subcategorias`,this.subcategories$=this.formService.createObservableForSelect(this.configList.productSubcategoryConfig,!0,this.cdr))}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-product"]],viewQuery:function(o,e){if(1&o&&(t.Gf(ft,5),t.Gf(_t,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:49,vars:61,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],["formGroupName","subCategoria",1,"col-12","col-md-6","col-lg-4"],["formGroupName","categoria"],["formControlName","id",3,"labelText","dataList","dataKey","currentStatus","statusMessages","controlChange"],["formControlName","id",3,"labelText","dataList","dataKey","currentStatus","statusMessages","isDisabled"],["formGroupName","marca",1,"col-12","col-md-6","col-lg-4"],["formControlName","id",3,"labelText","dataList","dataKey","currentStatus","statusMessages"],["formGroupName","medida",1,"col-12","col-md-6","col-lg-4"],["formControlName","precio",3,"labelText","inputType","currentStatus","statusMessages","keypress"],["formGroupName","estado",1,"col-12","col-md-6","col-lg-4"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],["formControlName","imagen",3,"labelText","currentStatus","statusMessages"],[1,"d-flex","flex-column","justify-content-center","align-items-center","py-4"],["xmlns","http://www.w3.org/2000/svg","width","34","height","34","viewBox","0 0 24 24","stroke-width","2","fill","none","stroke-linecap","round","stroke-linejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"],["d","M9 15l3 -3l3 3"],["d","M12 12l0 9"],[1,"mt-1"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",7),t.ynx(9,8),t.TgZ(10,"ngx-table-select-control",9),t.NdJ("controlChange",function(d){return e.onSubcategoryChange(d)}),t.ALo(11,"async"),t.qZA(),t.BQk(),t.qZA(),t.TgZ(12,"div",7),t._UZ(13,"ngx-table-select-control",10),t.ALo(14,"async"),t.qZA(),t.TgZ(15,"div",11),t._UZ(16,"ngx-table-select-control",12),t.ALo(17,"async"),t.qZA(),t.TgZ(18,"div",13),t._UZ(19,"ngx-table-select-control",12),t.ALo(20,"async"),t.qZA(),t.TgZ(21,"div",5)(22,"ngx-table-input-control",14),t.NdJ("keypress",function(d){return e.formService.onKeyPress(d)}),t.qZA()(),t.TgZ(23,"div",15),t._UZ(24,"ngx-table-select-control",12),t.ALo(25,"async"),t.qZA(),t.TgZ(26,"div",16),t._UZ(27,"ngx-table-textarea-control",17),t.qZA(),t.TgZ(28,"div",16)(29,"ngx-table-file-upload-control",18)(30,"div",19),t.O4$(),t.TgZ(31,"svg",20),t._UZ(32,"path",21)(33,"path",22)(34,"path",23)(35,"path",24),t.qZA(),t.kcU(),t.TgZ(36,"span",25),t._uU(37,"Seleccione un archivo de su dispositivo"),t.qZA()()()(),t.TgZ(38,"div",16)(39,"div",26)(40,"button",27),t.ynx(41),t.TgZ(42,"span",28),t._uU(43,"Enviar"),t.qZA(),t._UZ(44,"img",29),t.BQk(),t.qZA()()()()()()()(),t.YNc(45,bt,11,0,"ng-template",null,30,t.W1O),t.YNc(47,Ct,11,0,"ng-template",null,31,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","A\xf1adir producto")("items",t.DdM(56,vt)),t.xp6(2),t.Q6J("formGroup",e.productForm),t.xp6(3),t.Q6J("labelText","Nombre del producto")("currentStatus",e.configList.productNameConfig.state)("statusMessages",e.producNameStateMessages),t.xp6(3),t.Q6J("labelText","Categor\xeda")("dataList",t.lcZ(11,46,e.categories$))("dataKey","nombre")("currentStatus",e.configList.productCategoryConfig.state)("statusMessages",e.productCategoryStateMessages),t.xp6(3),t.Q6J("labelText","Subcategor\xeda")("dataList",t.lcZ(14,48,e.subcategories$))("dataKey","nombre")("currentStatus",e.configList.productSubcategoryConfig.state)("statusMessages",e.productSubcategoryStateMessages)("isDisabled",!0),t.xp6(3),t.Q6J("labelText","Marca")("dataList",t.lcZ(17,50,e.brands$))("dataKey","nombre")("currentStatus",e.configList.productBrandConfig.state)("statusMessages",e.productBrandStateMessages),t.xp6(3),t.Q6J("labelText","Medida")("dataList",t.lcZ(20,52,e.measures$))("dataKey","nombre")("currentStatus",e.configList.productMeasureConfig.state)("statusMessages",e.productMeasureStateMessages),t.xp6(3),t.Q6J("labelText","Precio")("inputType","number")("currentStatus",e.configList.productPriceConfig.state)("statusMessages",e.productPriceStateMessages),t.xp6(2),t.Q6J("labelText","Estado")("dataList",t.lcZ(25,54,e.states$))("dataKey","nombre")("currentStatus",e.configList.productStateConfig.state)("statusMessages",e.productStateStateMessages),t.xp6(3),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.productDescriptionConfig.state)("statusMessages",e.productDescriptionStateMessages),t.xp6(2),t.Q6J("labelText","Imagen (Opcional)")("currentStatus",e.configList.productImageConfig.state)("statusMessages",e.productImageStateMessages),t.xp6(11),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(57,$,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(59,$,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,r.x0,b.r,C.H,q.A,Z.i,N.w,G.e,h.Ov],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();const yt=["info"],Tt=["error"];function Zt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",15)(1,"span"),t._uU(2,"A\xf1adir categor\xeda"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"span"),t._uU(7,"La categor\xeda fue a\xf1adida"),t.qZA()(),t.TgZ(8,"div",19)(9,"button",20),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function Mt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",15)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",19)(9,"button",20),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const St=function(){return["Productos","A\xf1adir categor\xeda"]},K=function(n){return{"d-none":n}};let Nt=(()=>{var n;class s{constructor(o,e,i,d,m){this.dataService=o,this.formService=e,this.unsubscriberService=i,this.modalService=d,this.ngZone=m,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.categoryNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.categoryDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={categoryNameConfig:{state:"INIT"},categoryDescriptionConfig:{state:"INIT"}},this.categoryForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),descripcion:new r.NI("")})}ngOnInit(){}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.categoryForm),this.dataService.addDataFromEndPoint("/categorias",this.categoryForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"}),this.categoryForm.reset()}))}isFormInvalid(){return this.formService.isFormInvalid(this.categoryForm)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-category"]],viewQuery:function(o,e){if(1&o&&(t.Gf(yt,5),t.Gf(Tt,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:21,vars:18,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"ngx-table-textarea-control",8),t.qZA(),t.TgZ(10,"div",7)(11,"div",9)(12,"button",10),t.ynx(13),t.TgZ(14,"span",11),t._uU(15,"Enviar"),t.qZA(),t._UZ(16,"img",12),t.BQk(),t.qZA()()()()()()()(),t.YNc(17,Zt,11,0,"ng-template",null,13,t.W1O),t.YNc(19,Mt,11,0,"ng-template",null,14,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","A\xf1adir categor\xeda")("items",t.DdM(13,St)),t.xp6(2),t.Q6J("formGroup",e.categoryForm),t.xp6(3),t.Q6J("labelText","Nombre de la categor\xeda")("currentStatus",e.configList.categoryNameConfig.state)("statusMessages",e.categoryNameStateMessages),t.xp6(2),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.categoryDescriptionConfig.state)("statusMessages",e.categoryDescriptionStateMessages),t.xp6(3),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(14,K,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(16,K,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,b.r,C.H,Z.i,N.w],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();const At=["info"],It=["error"];function wt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",32)(1,"span"),t._uU(2,"Editar producto"),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",34),t.qZA()(),t.TgZ(5,"div",35)(6,"span"),t._uU(7,"El producto fue editado"),t.qZA()(),t.TgZ(8,"div",36)(9,"button",37),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function Ft(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",32)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",34),t.qZA()(),t.TgZ(5,"div",35)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",36)(9,"button",37),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const Ut=function(){return["Productos","Editar producto"]},R=function(n){return{"d-none":n}};let Ot=(()=>{var n;class s{constructor(o,e,i,d,m,_,v){this.route=o,this.dataService=e,this.formService=i,this.unsubscriberService=d,this.modalService=m,this.cdr=_,this.ngZone=v,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.producNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.productCategoryStateMessages={INIT:"Seleccionar categor\xeda",...this.repeatedStates},this.productSubcategoryStateMessages={INIT:"Seleccionar subcategor\xeda",...this.repeatedStates},this.productBrandStateMessages={INIT:"Seleccionar marca",...this.repeatedStates},this.productMeasureStateMessages={INIT:"Seleccionar medida",...this.repeatedStates},this.productPriceStateMessages={INIT:"Introducir precio",...this.repeatedStates},this.productImageStateMessages=this.repeatedStates,this.productStateStateMessages={INIT:"Seleccionar estado",...this.repeatedStates},this.productDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={productNameConfig:{state:"INIT"},productCategoryConfig:{entrypoint:"/categorias",state:"INIT"},productSubcategoryConfig:{state:"INIT"},productBrandConfig:{entrypoint:"/marcas",state:"INIT"},productMeasureConfig:{entrypoint:"/medidas",state:"INIT"},productPriceConfig:{state:"INIT"},productImageConfig:{state:"INIT"},productStateConfig:{entrypoint:"/estados",state:"INIT"},productDescriptionConfig:{state:"INIT"}},this.productForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),subCategoria:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),categoria:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})})}),marca:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),medida:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),imagen:new r.NI(new File([""],"")),precio:new r.NI("",{nonNullable:!0,validators:[r.kI.required,r.kI.pattern(/^\d+(\.\d{1,2})?$/)]}),estado:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),descripcion:new r.NI("")})}ngOnInit(){this.route.params.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(o=>{this.itemId=o.itemId,this.onLoad()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onLoad(){this.formService.loadItem(`/productos/id/${this.itemId}`,this.configList,this.cdr).subscribe(o=>{this.productForm.patchValue({id:o.id,nombre:o.nombre,subCategoria:{id:o.subCategoria.id,categoria:{id:o.subCategoria.categoria.id}},marca:{id:o.marca.id},medida:{id:o.medida.id},precio:o.precio,imagen:new File([""],o.imagen),estado:o.estado,descripcion:o.descripcion}),this.configList.productSubcategoryConfig.entrypoint=`/categorias/${o.subCategoria.categoria.id}/subcategorias`,this.subcategories$=this.formService.createObservableForSelect(this.configList.productSubcategoryConfig,!0,this.cdr)}),this.categories$=this.formService.createObservableForSelect(this.configList.productCategoryConfig,!1,this.cdr),this.brands$=this.formService.createObservableForSelect(this.configList.productBrandConfig,!1,this.cdr),this.measures$=this.formService.createObservableForSelect(this.configList.productMeasureConfig,!1,this.cdr),this.states$=this.formService.createObservableForSelect(this.configList.productStateConfig,!1,this.cdr)}onSubmit(){if(!this.isFormInvalid()){this.isLoading=!0,this.formService.capitalizeFormControl(this.productForm);const o=new FormData;o.set("id",this.productForm.value.id.toString()),o.set("nombre",this.productForm.value.nombre),o.set("subCategoriaId",this.productForm.value.subCategoria.id.toString()),o.set("marcaId",this.productForm.value.marca.id.toString()),o.set("medidaId",this.productForm.value.medida.id.toString()),o.set("precio",this.productForm.value.precio),o.set("imagen",this.productForm.value.imagen),o.set("estadoId",this.productForm.value.estado.id.toString()),o.set("descripcion",this.productForm.value.descripcion),this.dataService.updateDataFromEndPoint("/productos/fileSystem",o).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"})})}}isFormInvalid(){return this.formService.isFormInvalid(this.productForm)}onSubcategoryChange(o){const e=o;0!=e&&(this.productForm.controls.subCategoria.controls.id.reset(),this.configList.productSubcategoryConfig.entrypoint=`/categorias/${e}/subcategorias`,this.subcategories$=this.formService.createObservableForSelect(this.configList.productSubcategoryConfig,!0,this.cdr))}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(A.gz),t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-product"]],viewQuery:function(o,e){if(1&o&&(t.Gf(At,5),t.Gf(It,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:49,vars:61,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],["formGroupName","subCategoria",1,"col-12","col-md-6","col-lg-4"],["formGroupName","categoria"],["formControlName","id",3,"labelText","dataList","dataKey","currentStatus","statusMessages","controlChange"],["formControlName","id",3,"labelText","dataList","dataKey","currentStatus","statusMessages","isDisabled"],["formGroupName","marca",1,"col-12","col-md-6","col-lg-4"],["formControlName","id",3,"labelText","dataList","dataKey","currentStatus","statusMessages"],["formGroupName","medida",1,"col-12","col-md-6","col-lg-4"],["formControlName","precio",3,"labelText","inputType","currentStatus","statusMessages","keypress"],["formGroupName","estado",1,"col-12","col-md-6","col-lg-4"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],["formControlName","imagen",3,"labelText","currentStatus","statusMessages"],[1,"d-flex","flex-column","justify-content-center","align-items-center","py-4"],["xmlns","http://www.w3.org/2000/svg","width","34","height","34","viewBox","0 0 24 24","stroke-width","2","fill","none","stroke-linecap","round","stroke-linejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"],["d","M9 15l3 -3l3 3"],["d","M12 12l0 9"],[1,"mt-1"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",7),t.ynx(9,8),t.TgZ(10,"ngx-table-select-control",9),t.NdJ("controlChange",function(d){return e.onSubcategoryChange(d)}),t.ALo(11,"async"),t.qZA(),t.BQk(),t.qZA(),t.TgZ(12,"div",7),t._UZ(13,"ngx-table-select-control",10),t.ALo(14,"async"),t.qZA(),t.TgZ(15,"div",11),t._UZ(16,"ngx-table-select-control",12),t.ALo(17,"async"),t.qZA(),t.TgZ(18,"div",13),t._UZ(19,"ngx-table-select-control",12),t.ALo(20,"async"),t.qZA(),t.TgZ(21,"div",5)(22,"ngx-table-input-control",14),t.NdJ("keypress",function(d){return e.formService.onKeyPress(d)}),t.qZA()(),t.TgZ(23,"div",15),t._UZ(24,"ngx-table-select-control",12),t.ALo(25,"async"),t.qZA(),t.TgZ(26,"div",16),t._UZ(27,"ngx-table-textarea-control",17),t.qZA(),t.TgZ(28,"div",16)(29,"ngx-table-file-upload-control",18)(30,"div",19),t.O4$(),t.TgZ(31,"svg",20),t._UZ(32,"path",21)(33,"path",22)(34,"path",23)(35,"path",24),t.qZA(),t.kcU(),t.TgZ(36,"span",25),t._uU(37,"Seleccione un archivo de su dispositivo"),t.qZA()()()(),t.TgZ(38,"div",16)(39,"div",26)(40,"button",27),t.ynx(41),t.TgZ(42,"span",28),t._uU(43,"Enviar"),t.qZA(),t._UZ(44,"img",29),t.BQk(),t.qZA()()()()()()()(),t.YNc(45,wt,11,0,"ng-template",null,30,t.W1O),t.YNc(47,Ft,11,0,"ng-template",null,31,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","Editar producto")("items",t.DdM(56,Ut)),t.xp6(2),t.Q6J("formGroup",e.productForm),t.xp6(3),t.Q6J("labelText","Nombre del producto")("currentStatus",e.configList.productNameConfig.state)("statusMessages",e.producNameStateMessages),t.xp6(3),t.Q6J("labelText","Categor\xeda")("dataList",t.lcZ(11,46,e.categories$))("dataKey","nombre")("currentStatus",e.configList.productCategoryConfig.state)("statusMessages",e.productCategoryStateMessages),t.xp6(3),t.Q6J("labelText","Subcategor\xeda")("dataList",t.lcZ(14,48,e.subcategories$))("dataKey","nombre")("currentStatus",e.configList.productSubcategoryConfig.state)("statusMessages",e.productSubcategoryStateMessages)("isDisabled",!0),t.xp6(3),t.Q6J("labelText","Marca")("dataList",t.lcZ(17,50,e.brands$))("dataKey","nombre")("currentStatus",e.configList.productBrandConfig.state)("statusMessages",e.productBrandStateMessages),t.xp6(3),t.Q6J("labelText","Medida")("dataList",t.lcZ(20,52,e.measures$))("dataKey","nombre")("currentStatus",e.configList.productMeasureConfig.state)("statusMessages",e.productMeasureStateMessages),t.xp6(3),t.Q6J("labelText","Precio")("inputType","number")("currentStatus",e.configList.productPriceConfig.state)("statusMessages",e.productPriceStateMessages),t.xp6(2),t.Q6J("labelText","Estado")("dataList",t.lcZ(25,54,e.states$))("dataKey","nombre")("currentStatus",e.configList.productStateConfig.state)("statusMessages",e.productStateStateMessages),t.xp6(3),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.productDescriptionConfig.state)("statusMessages",e.productDescriptionStateMessages),t.xp6(2),t.Q6J("labelText","Imagen (Opcional)")("currentStatus",e.configList.productImageConfig.state)("statusMessages",e.productImageStateMessages),t.xp6(11),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(57,R,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(59,R,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,r.x0,b.r,C.H,q.A,Z.i,N.w,G.e,h.Ov],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();const Pt=["info"],Et=["error"];function Lt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",15)(1,"span"),t._uU(2,"Editar categor\xeda"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"span"),t._uU(7,"La categor\xeda fue editada"),t.qZA()(),t.TgZ(8,"div",19)(9,"button",20),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function Dt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",15)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",19)(9,"button",20),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const Bt=function(){return["Productos","Editar categor\xeda"]},V=function(n){return{"d-none":n}};let Jt=(()=>{var n;class s{constructor(o,e,i,d,m,_,v){this.route=o,this.dataService=e,this.formService=i,this.unsubscriberService=d,this.modalService=m,this.cdr=_,this.ngZone=v,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.categoryNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.categoryDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={categoryNameConfig:{state:"INIT"},categoryDescriptionConfig:{state:"INIT"}},this.categoryForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),descripcion:new r.NI("")})}ngOnInit(){this.route.params.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(o=>{this.itemId=o.itemId,this.onLoad()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onLoad(){this.formService.loadItem(`/categorias/id/${this.itemId}`,this.configList,this.cdr).subscribe(o=>{this.categoryForm.patchValue({id:o.id,nombre:o.nombre,descripcion:o.descripcion})})}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.categoryForm),this.dataService.updateDataFromEndPoint("/categorias",this.categoryForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"})}))}isFormInvalid(){return this.formService.isFormInvalid(this.categoryForm)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(A.gz),t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-category"]],viewQuery:function(o,e){if(1&o&&(t.Gf(Pt,5),t.Gf(Et,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:21,vars:18,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"ngx-table-textarea-control",8),t.qZA(),t.TgZ(10,"div",7)(11,"div",9)(12,"button",10),t.ynx(13),t.TgZ(14,"span",11),t._uU(15,"Enviar"),t.qZA(),t._UZ(16,"img",12),t.BQk(),t.qZA()()()()()()()(),t.YNc(17,Lt,11,0,"ng-template",null,13,t.W1O),t.YNc(19,Dt,11,0,"ng-template",null,14,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","Editar categor\xeda")("items",t.DdM(13,Bt)),t.xp6(2),t.Q6J("formGroup",e.categoryForm),t.xp6(3),t.Q6J("labelText","Nombre de la categor\xeda")("currentStatus",e.configList.categoryNameConfig.state)("statusMessages",e.categoryNameStateMessages),t.xp6(2),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.categoryDescriptionConfig.state)("statusMessages",e.categoryDescriptionStateMessages),t.xp6(3),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(14,V,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(16,V,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,b.r,C.H,Z.i,N.w],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();function qt(n,s){1&n&&t._UZ(0,"img",33)}function kt(n,s){1&n&&t._UZ(0,"img",34)}const jt=function(){return["Subcategor\xedas","Lista de subcategor\xedas"]};let Qt=(()=>{var n;class s{constructor(o){this.ngZone=o,this.limit=10,this.entrypoint="/subCategorias",this.identifier="id",this.hasEditButton=!0,this.hasDeleteButton=!0,this.fieldActionName="Acci\xf3n",this.keys=[{property:["id"],type:"TEXT",header:"Id"},{property:["nombre"],type:"TEXT",header:"Nombre"},{property:["categoria"],type:"TEXT",header:"Categor\xeda"}],this.selectOptions=[10,15,20],this.preposition="de",this.editPageUrl="/products/subcategories/edit",this.addPageUrl="/products/subcategories/add",this.deleteModalHeaderText="Borrar subcategor\xeda",this.deleteModalBodyText="\xbfEst\xe1s seguro que deseas borrar la subcategor\xeda?",this.deleteModalFooterButtonCloseText="Cerrar",this.deleteModalFooterButtonExecuteText="Borrar",this.errorModalHeaderText="Error",this.errorModalBodyText="Ocurri\xf3 un error, int\xe9ntelo de nuevo",this.errorModalFooterButtonCloseText="Cerrar",this.xlsxFileName="lista-subcategorias",this.xlsxPrimaryColor="#432818",this.xlsxSecondaryColor="#F7EFE2",this.pdfFileName="lista-subcategorias",this.hasImage=!0,this.imageUrl="https://i.imgur.com/5ZrMWpD.jpg",this.imageWidth=50,this.imageHeight=25,this.pdfPrimaryColor="#432818",this.pdfSecondaryColor="#F7EFE2"}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-subcategory-list"]],decls:52,vars:44,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],[1,"row","gy-4"],[1,"col-12","col-xl-4"],[1,"d-block","mb-2"],[3,"placeholder"],["src","assets/icons/search.svg","width","18px","height","18px",1,"mx-3"],[1,"col","d-none","d-xl-block"],[1,"d-flex","justify-content-between","justify-content-md-end","align-items-end","h-100"],[3,"fileName","hasImage","imageUrl","imageWidth","imageHeight","primaryColor","secondaryColor"],[3,"fileName","height","width"],[1,"mx-4",3,"fileName","primaryColor","secondaryColor"],[1,"d-flex",3,"addPageUrl"],[1,"add-item"],["src","assets/icons/plus.svg","width","18px","height","18px"],[1,"text-nowrap","mx-2"],[1,"col-12"],[3,"entrypoint","dataKeys","identifier","hasEditButton","hasDeleteButton","editPageUrl","fieldActionName","deleteModalHeaderText","deleteModalBodyText","deleteModalFooterButtonCloseText","deleteModalFooterButtonExecuteText","errorModalHeaderText","errorModalBodyText","errorModalFooterButtonCloseText"],["editButton",""],["deleteButton",""],["dataError",""],[3,"fileName","loop","height","width"],["emptyData",""],["notLoaded",""],["src","assets/icons/brown-spinner.svg","width","40px","height","40px"],[1,"col-12","col-lg-6"],[1,"d-flex","justify-content-center","justify-content-lg-start","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-4"],[1,"d-flex","justify-content-center","justify-content-lg-end","align-items-center"],[1,"d-none","d-lg-block",3,"preposition"],[1,"me-4","mx-lg-4"],["src","assets/icons/pencil.svg","width","24px","height","24px"],["src","assets/icons/trash.svg","width","24px","height","24px"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"ngx-table")(5,"div",3)(6,"div",4)(7,"span",5),t._uU(8,"Buscar por nombre"),t.qZA(),t.TgZ(9,"ngx-table-search-input",6),t._UZ(10,"img",7),t.qZA()(),t._UZ(11,"div",8),t.TgZ(12,"div",4)(13,"div",9)(14,"div")(15,"ngx-table-pdf-export-button",10),t._UZ(16,"app-lottie",11),t.qZA(),t.TgZ(17,"ngx-table-xls-export-button",12),t._UZ(18,"app-lottie",11),t.qZA()(),t.TgZ(19,"ngx-table-add-button",13)(20,"div",14)(21,"div"),t._UZ(22,"img",15),t.TgZ(23,"span",16),t._uU(24,"A\xf1adir"),t.qZA()()()()()(),t.TgZ(25,"div",17)(26,"ngx-table-data-table",18),t.YNc(27,qt,1,0,"ng-template",null,19,t.W1O),t.YNc(29,kt,1,0,"ng-template",null,20,t.W1O),t.TgZ(31,"div",21),t._UZ(32,"app-lottie",22),t.qZA(),t.TgZ(33,"div",23),t._UZ(34,"app-lottie",22),t.qZA(),t.TgZ(35,"div",24),t._UZ(36,"img",25),t.qZA()()(),t.TgZ(37,"div",26)(38,"div",27)(39,"div",28)(40,"span",29),t._uU(41,"Filas por p\xe1gina"),t.qZA(),t._UZ(42,"ngx-table-pagination-select"),t.qZA()()(),t.TgZ(43,"div",26)(44,"div",30),t._UZ(45,"ngx-table-info-items",31),t.TgZ(46,"ngx-table-previous-button",32)(47,"span"),t._uU(48,"Anterior"),t.qZA()(),t.TgZ(49,"ngx-table-next-button")(50,"span"),t._uU(51,"Siguiente"),t.qZA()()()()()()()()()),2&o&&(t.xp6(2),t.Q6J("title","Lista de subcategor\xedas")("items",t.DdM(43,jt)),t.xp6(7),t.Q6J("placeholder","Buscar"),t.xp6(6),t.Q6J("fileName",e.pdfFileName)("hasImage",e.hasImage)("imageUrl",e.imageUrl)("imageWidth",e.imageWidth)("imageHeight",e.imageHeight)("primaryColor",e.pdfPrimaryColor)("secondaryColor",e.pdfSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-pdf-animated")("height",24)("width",24),t.xp6(1),t.Q6J("fileName",e.xlsxFileName)("primaryColor",e.xlsxPrimaryColor)("secondaryColor",e.xlsxSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-xls-animated")("height",24)("width",24),t.xp6(1),t.Q6J("addPageUrl",e.addPageUrl),t.xp6(7),t.Q6J("entrypoint",e.entrypoint)("dataKeys",e.keys)("identifier",e.identifier)("hasEditButton",e.hasEditButton)("hasDeleteButton",e.hasDeleteButton)("editPageUrl",e.editPageUrl)("fieldActionName",e.fieldActionName)("deleteModalHeaderText",e.deleteModalHeaderText)("deleteModalBodyText",e.deleteModalBodyText)("deleteModalFooterButtonCloseText",e.deleteModalFooterButtonCloseText)("deleteModalFooterButtonExecuteText",e.deleteModalFooterButtonExecuteText)("errorModalHeaderText",e.errorModalHeaderText)("errorModalBodyText",e.errorModalBodyText)("errorModalFooterButtonCloseText",e.errorModalFooterButtonCloseText),t.xp6(6),t.Q6J("fileName","data-error-animated")("loop",!0)("height",400)("width",400),t.xp6(2),t.Q6J("fileName","no-data-animated")("loop",!0)("height",400)("width",400),t.xp6(11),t.Q6J("preposition",e.preposition))},dependencies:[b.r,C.H,I.e,w.J,B.h,J.i,F.e,U.T,O.P,P.y,E.e,L.g,D.$],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),s})();const Ht=["info"],Yt=["error"];function Gt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",17)(1,"span"),t._uU(2,"A\xf1adir subcategor\xeda"),t.qZA(),t.TgZ(3,"button",18),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",19),t.qZA()(),t.TgZ(5,"div",20)(6,"span"),t._uU(7,"La subcategor\xeda fue a\xf1adida"),t.qZA()(),t.TgZ(8,"div",21)(9,"button",22),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function $t(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",17)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",18),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",19),t.qZA()(),t.TgZ(5,"div",20)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",21)(9,"button",22),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const Kt=function(){return["Productos","A\xf1adir subcategor\xeda"]},W=function(n){return{"d-none":n}};let Rt=(()=>{var n;class s{constructor(o,e,i,d,m,_){this.dataService=o,this.formService=e,this.unsubscriberService=i,this.modalService=d,this.cdr=m,this.ngZone=_,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.subcategoryNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.subcategoryCategoryStateMessages={INIT:"Seleccionar categor\xeda",...this.repeatedStates},this.subcategoryDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={subcategoryNameConfig:{state:"INIT"},subcategoryCategoryConfig:{entrypoint:"/categorias",state:"INIT"},subcategoryDescriptionConfig:{state:"INIT"}},this.subcategoryForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),categoria:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),descripcion:new r.NI("")})}ngOnInit(){this.onLoad()}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onLoad(){this.categories$=this.formService.createObservableForSelect(this.configList.subcategoryCategoryConfig,!0,this.cdr)}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.subcategoryForm),this.dataService.addDataFromEndPoint("/subCategorias",this.subcategoryForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.isLoading=!1,this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"}),this.subcategoryForm.reset()}))}isFormInvalid(){return this.formService.isFormInvalid(this.subcategoryForm)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-subcategory"]],viewQuery:function(o,e){if(1&o&&(t.Gf(Ht,5),t.Gf(Yt,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:24,vars:25,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],["formGroupName","categoria",1,"col-12","col-md-6","col-lg-4"],["formControlName","id",3,"labelText","dataList","dataKey","currentStatus","statusMessages"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"ngx-table-select-control",8),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"div",9),t._UZ(12,"ngx-table-textarea-control",10),t.qZA(),t.TgZ(13,"div",9)(14,"div",11)(15,"button",12),t.ynx(16),t.TgZ(17,"span",13),t._uU(18,"Enviar"),t.qZA(),t._UZ(19,"img",14),t.BQk(),t.qZA()()()()()()()(),t.YNc(20,Gt,11,0,"ng-template",null,15,t.W1O),t.YNc(22,$t,11,0,"ng-template",null,16,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","A\xf1adir subcategor\xeda")("items",t.DdM(20,Kt)),t.xp6(2),t.Q6J("formGroup",e.subcategoryForm),t.xp6(3),t.Q6J("labelText","Nombre de la subcategor\xeda")("currentStatus",e.configList.subcategoryNameConfig.state)("statusMessages",e.subcategoryNameStateMessages),t.xp6(2),t.Q6J("labelText","Categor\xeda")("dataList",t.lcZ(10,18,e.categories$))("dataKey","nombre")("currentStatus",e.configList.subcategoryCategoryConfig.state)("statusMessages",e.subcategoryCategoryStateMessages),t.xp6(3),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.subcategoryDescriptionConfig.state)("statusMessages",e.subcategoryDescriptionStateMessages),t.xp6(3),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(21,W,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(23,W,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,r.x0,b.r,C.H,q.A,Z.i,N.w,h.Ov],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();const Vt=["info"],Wt=["error"];function zt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",17)(1,"span"),t._uU(2,"Editar subcategor\xeda"),t.qZA(),t.TgZ(3,"button",18),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",19),t.qZA()(),t.TgZ(5,"div",20)(6,"span"),t._uU(7,"La subcategor\xeda fue editada"),t.qZA()(),t.TgZ(8,"div",21)(9,"button",22),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function Xt(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",17)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",18),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",19),t.qZA()(),t.TgZ(5,"div",20)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",21)(9,"button",22),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const te=function(){return["Productos","Editar subcategor\xeda"]},z=function(n){return{"d-none":n}};let ee=(()=>{var n;class s{constructor(o,e,i,d,m,_,v){this.route=o,this.dataService=e,this.formService=i,this.unsubscriberService=d,this.modalService=m,this.cdr=_,this.ngZone=v,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.subcategoryNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.subcategoryCategoryStateMessages={INIT:"Seleccionar categor\xeda",...this.repeatedStates},this.subcategoryDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={subcategoryNameConfig:{state:"INIT"},subcategoryCategoryConfig:{entrypoint:"/categorias",state:"INIT"},subcategoryDescriptionConfig:{state:"INIT"}},this.subcategoryForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),categoria:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),descripcion:new r.NI("")})}ngOnInit(){this.route.params.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(o=>{this.itemId=o.itemId,this.onLoad()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onLoad(){this.formService.loadItem(`/subCategorias/id/${this.itemId}`,this.configList,this.cdr).subscribe(o=>{this.subcategoryForm.patchValue({id:o.id,nombre:o.nombre,categoria:{id:o.categoria.id},descripcion:o.descripcion})}),this.categories$=this.formService.createObservableForSelect(this.configList.subcategoryCategoryConfig,!0,this.cdr)}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.subcategoryForm),this.dataService.updateDataFromEndPoint("/subCategorias",this.subcategoryForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.isLoading=!1,this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"})}))}isFormInvalid(){return this.formService.isFormInvalid(this.subcategoryForm)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(A.gz),t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-subcategory"]],viewQuery:function(o,e){if(1&o&&(t.Gf(Vt,5),t.Gf(Wt,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:24,vars:25,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],["formGroupName","categoria",1,"col-12","col-md-6","col-lg-4"],["formControlName","id",3,"labelText","dataList","dataKey","currentStatus","statusMessages"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"ngx-table-select-control",8),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"div",9),t._UZ(12,"ngx-table-textarea-control",10),t.qZA(),t.TgZ(13,"div",9)(14,"div",11)(15,"button",12),t.ynx(16),t.TgZ(17,"span",13),t._uU(18,"Enviar"),t.qZA(),t._UZ(19,"img",14),t.BQk(),t.qZA()()()()()()()(),t.YNc(20,zt,11,0,"ng-template",null,15,t.W1O),t.YNc(22,Xt,11,0,"ng-template",null,16,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","Editar subcategor\xeda")("items",t.DdM(20,te)),t.xp6(2),t.Q6J("formGroup",e.subcategoryForm),t.xp6(3),t.Q6J("labelText","Nombre de la subcategor\xeda")("currentStatus",e.configList.subcategoryNameConfig.state)("statusMessages",e.subcategoryNameStateMessages),t.xp6(2),t.Q6J("labelText","Categor\xeda")("dataList",t.lcZ(10,18,e.categories$))("dataKey","nombre")("currentStatus",e.configList.subcategoryCategoryConfig.state)("statusMessages",e.subcategoryCategoryStateMessages),t.xp6(3),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.subcategoryDescriptionConfig.state)("statusMessages",e.subcategoryDescriptionStateMessages),t.xp6(3),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(21,z,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(23,z,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,r.x0,b.r,C.H,q.A,Z.i,N.w,h.Ov],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();function oe(n,s){1&n&&t._UZ(0,"img",33)}function ne(n,s){1&n&&t._UZ(0,"img",34)}const ie=function(){return["Marcas","Lista de marcas"]};let re=(()=>{var n;class s{constructor(o){this.ngZone=o,this.limit=10,this.entrypoint="/marcas",this.identifier="id",this.hasEditButton=!0,this.hasDeleteButton=!0,this.fieldActionName="Acci\xf3n",this.keys=[{property:["id"],type:"TEXT",header:"Id"},{property:["nombre"],type:"TEXT",header:"Nombre"}],this.selectOptions=[10,15,20],this.preposition="de",this.editPageUrl="/products/brands/edit",this.addPageUrl="/products/brands/add",this.deleteModalHeaderText="Borrar marca",this.deleteModalBodyText="\xbfEst\xe1s seguro que deseas borrar la marca?",this.deleteModalFooterButtonCloseText="Cerrar",this.deleteModalFooterButtonExecuteText="Borrar",this.errorModalHeaderText="Error",this.errorModalBodyText="Ocurri\xf3 un error, int\xe9ntelo de nuevo",this.errorModalFooterButtonCloseText="Cerrar",this.xlsxFileName="lista-marcas",this.xlsxPrimaryColor="#432818",this.xlsxSecondaryColor="#F7EFE2",this.pdfFileName="lista-marcas",this.hasImage=!0,this.imageUrl="https://i.imgur.com/5ZrMWpD.jpg",this.imageWidth=50,this.imageHeight=25,this.pdfPrimaryColor="#432818",this.pdfSecondaryColor="#F7EFE2"}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brand-list"]],decls:52,vars:44,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],[1,"row","gy-4"],[1,"col-12","col-xl-4"],[1,"d-block","mb-2"],[3,"placeholder"],["src","assets/icons/search.svg","width","18px","height","18px",1,"mx-3"],[1,"col","d-none","d-xl-block"],[1,"d-flex","justify-content-between","justify-content-md-end","align-items-end","h-100"],[3,"fileName","hasImage","imageUrl","imageWidth","imageHeight","primaryColor","secondaryColor"],[3,"fileName","height","width"],[1,"mx-4",3,"fileName","primaryColor","secondaryColor"],[1,"d-flex",3,"addPageUrl"],[1,"add-item"],["src","assets/icons/plus.svg","width","18px","height","18px"],[1,"text-nowrap","mx-2"],[1,"col-12"],[3,"entrypoint","dataKeys","identifier","hasEditButton","hasDeleteButton","editPageUrl","fieldActionName","deleteModalHeaderText","deleteModalBodyText","deleteModalFooterButtonCloseText","deleteModalFooterButtonExecuteText","errorModalHeaderText","errorModalBodyText","errorModalFooterButtonCloseText"],["editButton",""],["deleteButton",""],["dataError",""],[3,"fileName","loop","height","width"],["emptyData",""],["notLoaded",""],["src","assets/icons/brown-spinner.svg","width","40px","height","40px"],[1,"col-12","col-lg-6"],[1,"d-flex","justify-content-center","justify-content-lg-start","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-4"],[1,"d-flex","justify-content-center","justify-content-lg-end","align-items-center"],[1,"d-none","d-lg-block",3,"preposition"],[1,"me-4","mx-lg-4"],["src","assets/icons/pencil.svg","width","24px","height","24px"],["src","assets/icons/trash.svg","width","24px","height","24px"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"ngx-table")(5,"div",3)(6,"div",4)(7,"span",5),t._uU(8,"Buscar por nombre"),t.qZA(),t.TgZ(9,"ngx-table-search-input",6),t._UZ(10,"img",7),t.qZA()(),t._UZ(11,"div",8),t.TgZ(12,"div",4)(13,"div",9)(14,"div")(15,"ngx-table-pdf-export-button",10),t._UZ(16,"app-lottie",11),t.qZA(),t.TgZ(17,"ngx-table-xls-export-button",12),t._UZ(18,"app-lottie",11),t.qZA()(),t.TgZ(19,"ngx-table-add-button",13)(20,"div",14)(21,"div"),t._UZ(22,"img",15),t.TgZ(23,"span",16),t._uU(24,"A\xf1adir"),t.qZA()()()()()(),t.TgZ(25,"div",17)(26,"ngx-table-data-table",18),t.YNc(27,oe,1,0,"ng-template",null,19,t.W1O),t.YNc(29,ne,1,0,"ng-template",null,20,t.W1O),t.TgZ(31,"div",21),t._UZ(32,"app-lottie",22),t.qZA(),t.TgZ(33,"div",23),t._UZ(34,"app-lottie",22),t.qZA(),t.TgZ(35,"div",24),t._UZ(36,"img",25),t.qZA()()(),t.TgZ(37,"div",26)(38,"div",27)(39,"div",28)(40,"span",29),t._uU(41,"Filas por p\xe1gina"),t.qZA(),t._UZ(42,"ngx-table-pagination-select"),t.qZA()()(),t.TgZ(43,"div",26)(44,"div",30),t._UZ(45,"ngx-table-info-items",31),t.TgZ(46,"ngx-table-previous-button",32)(47,"span"),t._uU(48,"Anterior"),t.qZA()(),t.TgZ(49,"ngx-table-next-button")(50,"span"),t._uU(51,"Siguiente"),t.qZA()()()()()()()()()),2&o&&(t.xp6(2),t.Q6J("title","Lista de marcas")("items",t.DdM(43,ie)),t.xp6(7),t.Q6J("placeholder","Buscar"),t.xp6(6),t.Q6J("fileName",e.pdfFileName)("hasImage",e.hasImage)("imageUrl",e.imageUrl)("imageWidth",e.imageWidth)("imageHeight",e.imageHeight)("primaryColor",e.pdfPrimaryColor)("secondaryColor",e.pdfSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-pdf-animated")("height",24)("width",24),t.xp6(1),t.Q6J("fileName",e.xlsxFileName)("primaryColor",e.xlsxPrimaryColor)("secondaryColor",e.xlsxSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-xls-animated")("height",24)("width",24),t.xp6(1),t.Q6J("addPageUrl",e.addPageUrl),t.xp6(7),t.Q6J("entrypoint",e.entrypoint)("dataKeys",e.keys)("identifier",e.identifier)("hasEditButton",e.hasEditButton)("hasDeleteButton",e.hasDeleteButton)("editPageUrl",e.editPageUrl)("fieldActionName",e.fieldActionName)("deleteModalHeaderText",e.deleteModalHeaderText)("deleteModalBodyText",e.deleteModalBodyText)("deleteModalFooterButtonCloseText",e.deleteModalFooterButtonCloseText)("deleteModalFooterButtonExecuteText",e.deleteModalFooterButtonExecuteText)("errorModalHeaderText",e.errorModalHeaderText)("errorModalBodyText",e.errorModalBodyText)("errorModalFooterButtonCloseText",e.errorModalFooterButtonCloseText),t.xp6(6),t.Q6J("fileName","data-error-animated")("loop",!0)("height",400)("width",400),t.xp6(2),t.Q6J("fileName","no-data-animated")("loop",!0)("height",400)("width",400),t.xp6(11),t.Q6J("preposition",e.preposition))},dependencies:[b.r,C.H,I.e,w.J,B.h,J.i,F.e,U.T,O.P,P.y,E.e,L.g,D.$],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),s})();const ae=["info"],se=["error"];function de(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",15)(1,"span"),t._uU(2,"A\xf1adir marca"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"span"),t._uU(7,"La marca fue a\xf1adida"),t.qZA()(),t.TgZ(8,"div",19)(9,"button",20),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function le(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",15)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",19)(9,"button",20),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const ce=function(){return["Productos","A\xf1adir marca"]},X=function(n){return{"d-none":n}};let ue=(()=>{var n;class s{constructor(o,e,i,d,m){this.dataService=o,this.formService=e,this.unsubscriberService=i,this.modalService=d,this.ngZone=m,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.brandNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.brandDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={brandNameConfig:{state:"INIT"},brandDescriptionConfig:{state:"INIT"}},this.brandForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),descripcion:new r.NI("")})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.brandForm),this.dataService.addDataFromEndPoint("/marcas",this.brandForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"}),this.brandForm.reset()}))}isFormInvalid(){return this.formService.isFormInvalid(this.brandForm)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-brand"]],viewQuery:function(o,e){if(1&o&&(t.Gf(ae,5),t.Gf(se,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:21,vars:18,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"ngx-table-textarea-control",8),t.qZA(),t.TgZ(10,"div",7)(11,"div",9)(12,"button",10),t.ynx(13),t.TgZ(14,"span",11),t._uU(15,"Enviar"),t.qZA(),t._UZ(16,"img",12),t.BQk(),t.qZA()()()()()()()(),t.YNc(17,de,11,0,"ng-template",null,13,t.W1O),t.YNc(19,le,11,0,"ng-template",null,14,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","A\xf1adir marca")("items",t.DdM(13,ce)),t.xp6(2),t.Q6J("formGroup",e.brandForm),t.xp6(3),t.Q6J("labelText","Nombre de la marca")("currentStatus",e.configList.brandNameConfig.state)("statusMessages",e.brandNameStateMessages),t.xp6(2),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.brandDescriptionConfig.state)("statusMessages",e.brandDescriptionStateMessages),t.xp6(3),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(14,X,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(16,X,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,b.r,C.H,Z.i,N.w],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();const pe=["info"],ge=["error"];function me(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",15)(1,"span"),t._uU(2,"Editar marca"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"span"),t._uU(7,"La marca fue editada"),t.qZA()(),t.TgZ(8,"div",19)(9,"button",20),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function he(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",15)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",19)(9,"button",20),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const fe=function(){return["Productos","Editar marca"]},tt=function(n){return{"d-none":n}};let _e=(()=>{var n;class s{constructor(o,e,i,d,m,_,v){this.route=o,this.dataService=e,this.formService=i,this.unsubscriberService=d,this.modalService=m,this.cdr=_,this.ngZone=v,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.brandNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.brandDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={brandNameConfig:{state:"INIT"},brandDescriptionConfig:{state:"INIT"}},this.brandForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),descripcion:new r.NI("")})}ngOnInit(){this.route.params.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(o=>{this.itemId=o.itemId,this.onLoad()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onLoad(){this.formService.loadItem(`/marcas/id/${this.itemId}`,this.configList,this.cdr).subscribe(o=>{this.brandForm.patchValue({id:o.id,nombre:o.nombre,descripcion:o.descripcion})})}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.brandForm),this.dataService.addDataFromEndPoint("/marcas",this.brandForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"})}))}isFormInvalid(){return this.formService.isFormInvalid(this.brandForm)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(A.gz),t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-brand"]],viewQuery:function(o,e){if(1&o&&(t.Gf(pe,5),t.Gf(ge,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:21,vars:18,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"ngx-table-textarea-control",8),t.qZA(),t.TgZ(10,"div",7)(11,"div",9)(12,"button",10),t.ynx(13),t.TgZ(14,"span",11),t._uU(15,"Enviar"),t.qZA(),t._UZ(16,"img",12),t.BQk(),t.qZA()()()()()()()(),t.YNc(17,me,11,0,"ng-template",null,13,t.W1O),t.YNc(19,he,11,0,"ng-template",null,14,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","Editar marca")("items",t.DdM(13,fe)),t.xp6(2),t.Q6J("formGroup",e.brandForm),t.xp6(3),t.Q6J("labelText","Nombre de la marca")("currentStatus",e.configList.brandNameConfig.state)("statusMessages",e.brandNameStateMessages),t.xp6(2),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.brandDescriptionConfig.state)("statusMessages",e.brandDescriptionStateMessages),t.xp6(3),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(14,tt,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(16,tt,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,b.r,C.H,Z.i,N.w],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();function be(n,s){1&n&&t._UZ(0,"img",33)}function Ce(n,s){1&n&&t._UZ(0,"img",34)}const ve=function(){return["Unidad / valor","Lista de unidad / valor"]};let xe=(()=>{var n;class s{constructor(o){this.ngZone=o,this.limit=10,this.entrypoint="/medidas",this.identifier="id",this.hasEditButton=!0,this.hasDeleteButton=!0,this.fieldActionName="Acci\xf3n",this.keys=[{property:["id"],type:"TEXT",header:"Id"},{property:["nombre"],type:"TEXT",header:"Nombre"},{property:["abreviatura"],type:"TEXT",header:"Abreviatura"}],this.selectOptions=[10,15,20],this.preposition="de",this.editPageUrl="/products/unit-value/edit",this.addPageUrl="/products/unit-value/add",this.deleteModalHeaderText="Borrar medida",this.deleteModalBodyText="\xbfEst\xe1s seguro que deseas borrar la medida?",this.deleteModalFooterButtonCloseText="Cerrar",this.deleteModalFooterButtonExecuteText="Borrar",this.errorModalHeaderText="Error",this.errorModalBodyText="Ocurri\xf3 un error, int\xe9ntelo de nuevo",this.errorModalFooterButtonCloseText="Cerrar",this.xlsxFileName="lista-medidas",this.xlsxPrimaryColor="#432818",this.xlsxSecondaryColor="#F7EFE2",this.pdfFileName="lista-medidas",this.hasImage=!0,this.imageUrl="https://i.imgur.com/5ZrMWpD.jpg",this.imageWidth=50,this.imageHeight=25,this.pdfPrimaryColor="#432818",this.pdfSecondaryColor="#F7EFE2"}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-unit-value-list"]],decls:52,vars:44,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],[1,"row","gy-4"],[1,"col-12","col-xl-4"],[1,"d-block","mb-2"],[3,"placeholder"],["src","assets/icons/search.svg","width","18px","height","18px",1,"mx-3"],[1,"col","d-none","d-xl-block"],[1,"d-flex","justify-content-between","justify-content-md-end","align-items-end","h-100"],[3,"fileName","hasImage","imageUrl","imageWidth","imageHeight","primaryColor","secondaryColor"],[3,"fileName","height","width"],[1,"mx-4",3,"fileName","primaryColor","secondaryColor"],[1,"d-flex",3,"addPageUrl"],[1,"add-item"],["src","assets/icons/plus.svg","width","18px","height","18px"],[1,"text-nowrap","mx-2"],[1,"col-12"],[3,"entrypoint","dataKeys","identifier","hasEditButton","hasDeleteButton","editPageUrl","fieldActionName","deleteModalHeaderText","deleteModalBodyText","deleteModalFooterButtonCloseText","deleteModalFooterButtonExecuteText","errorModalHeaderText","errorModalBodyText","errorModalFooterButtonCloseText"],["editButton",""],["deleteButton",""],["dataError",""],[3,"fileName","loop","height","width"],["emptyData",""],["notLoaded",""],["src","assets/icons/brown-spinner.svg","width","40px","height","40px"],[1,"col-12","col-lg-6"],[1,"d-flex","justify-content-center","justify-content-lg-start","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-4"],[1,"d-flex","justify-content-center","justify-content-lg-end","align-items-center"],[1,"d-none","d-lg-block",3,"preposition"],[1,"me-4","mx-lg-4"],["src","assets/icons/pencil.svg","width","24px","height","24px"],["src","assets/icons/trash.svg","width","24px","height","24px"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"ngx-table")(5,"div",3)(6,"div",4)(7,"span",5),t._uU(8,"Buscar por nombre"),t.qZA(),t.TgZ(9,"ngx-table-search-input",6),t._UZ(10,"img",7),t.qZA()(),t._UZ(11,"div",8),t.TgZ(12,"div",4)(13,"div",9)(14,"div")(15,"ngx-table-pdf-export-button",10),t._UZ(16,"app-lottie",11),t.qZA(),t.TgZ(17,"ngx-table-xls-export-button",12),t._UZ(18,"app-lottie",11),t.qZA()(),t.TgZ(19,"ngx-table-add-button",13)(20,"div",14)(21,"div"),t._UZ(22,"img",15),t.TgZ(23,"span",16),t._uU(24,"A\xf1adir"),t.qZA()()()()()(),t.TgZ(25,"div",17)(26,"ngx-table-data-table",18),t.YNc(27,be,1,0,"ng-template",null,19,t.W1O),t.YNc(29,Ce,1,0,"ng-template",null,20,t.W1O),t.TgZ(31,"div",21),t._UZ(32,"app-lottie",22),t.qZA(),t.TgZ(33,"div",23),t._UZ(34,"app-lottie",22),t.qZA(),t.TgZ(35,"div",24),t._UZ(36,"img",25),t.qZA()()(),t.TgZ(37,"div",26)(38,"div",27)(39,"div",28)(40,"span",29),t._uU(41,"Filas por p\xe1gina"),t.qZA(),t._UZ(42,"ngx-table-pagination-select"),t.qZA()()(),t.TgZ(43,"div",26)(44,"div",30),t._UZ(45,"ngx-table-info-items",31),t.TgZ(46,"ngx-table-previous-button",32)(47,"span"),t._uU(48,"Anterior"),t.qZA()(),t.TgZ(49,"ngx-table-next-button")(50,"span"),t._uU(51,"Siguiente"),t.qZA()()()()()()()()()),2&o&&(t.xp6(2),t.Q6J("title","Lista de unidad / valor")("items",t.DdM(43,ve)),t.xp6(7),t.Q6J("placeholder","Buscar"),t.xp6(6),t.Q6J("fileName",e.pdfFileName)("hasImage",e.hasImage)("imageUrl",e.imageUrl)("imageWidth",e.imageWidth)("imageHeight",e.imageHeight)("primaryColor",e.pdfPrimaryColor)("secondaryColor",e.pdfSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-pdf-animated")("height",24)("width",24),t.xp6(1),t.Q6J("fileName",e.xlsxFileName)("primaryColor",e.xlsxPrimaryColor)("secondaryColor",e.xlsxSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-xls-animated")("height",24)("width",24),t.xp6(1),t.Q6J("addPageUrl",e.addPageUrl),t.xp6(7),t.Q6J("entrypoint",e.entrypoint)("dataKeys",e.keys)("identifier",e.identifier)("hasEditButton",e.hasEditButton)("hasDeleteButton",e.hasDeleteButton)("editPageUrl",e.editPageUrl)("fieldActionName",e.fieldActionName)("deleteModalHeaderText",e.deleteModalHeaderText)("deleteModalBodyText",e.deleteModalBodyText)("deleteModalFooterButtonCloseText",e.deleteModalFooterButtonCloseText)("deleteModalFooterButtonExecuteText",e.deleteModalFooterButtonExecuteText)("errorModalHeaderText",e.errorModalHeaderText)("errorModalBodyText",e.errorModalBodyText)("errorModalFooterButtonCloseText",e.errorModalFooterButtonCloseText),t.xp6(6),t.Q6J("fileName","data-error-animated")("loop",!0)("height",400)("width",400),t.xp6(2),t.Q6J("fileName","no-data-animated")("loop",!0)("height",400)("width",400),t.xp6(11),t.Q6J("preposition",e.preposition))},dependencies:[b.r,C.H,I.e,w.J,B.h,J.i,F.e,U.T,O.P,P.y,E.e,L.g,D.$],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),s})();const ye=["info"],Te=["error"];function Ze(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",16)(1,"span"),t._uU(2,"A\xf1adir unidad / valor"),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",18),t.qZA()(),t.TgZ(5,"div",19)(6,"span"),t._uU(7,"La unidad / valor fue a\xf1adida"),t.qZA()(),t.TgZ(8,"div",20)(9,"button",21),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function Me(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",16)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",18),t.qZA()(),t.TgZ(5,"div",19)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",20)(9,"button",21),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const Se=function(){return["Productos","A\xf1adir unidad / valor"]},et=function(n){return{"d-none":n}};let Ne=(()=>{var n;class s{constructor(o,e,i,d,m){this.dataService=o,this.formService=e,this.unsubscriberService=i,this.modalService=d,this.ngZone=m,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.measureNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.measureAbbreviationStateMessages={INIT:"Introducir abreviatura",...this.repeatedStates},this.measureDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={measureNameConfig:{state:"INIT"},measureAbbreviationConfig:{state:"INIT"},measureDescriptionConfig:{state:"INIT"}},this.measureForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),abreviatura:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),descripcion:new r.NI("")})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.measureForm),this.dataService.addDataFromEndPoint("/medidas",this.measureForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"}),this.measureForm.reset()}))}isFormInvalid(){return this.formService.isFormInvalid(this.measureForm)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-unit-value"]],viewQuery:function(o,e){if(1&o&&(t.Gf(ye,5),t.Gf(Te,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:23,vars:21,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],["formControlName","abreviatura",3,"labelText","currentStatus","statusMessages"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",5),t._UZ(9,"ngx-table-input-control",7),t.qZA(),t.TgZ(10,"div",8),t._UZ(11,"ngx-table-textarea-control",9),t.qZA(),t.TgZ(12,"div",8)(13,"div",10)(14,"button",11),t.ynx(15),t.TgZ(16,"span",12),t._uU(17,"Enviar"),t.qZA(),t._UZ(18,"img",13),t.BQk(),t.qZA()()()()()()()(),t.YNc(19,Ze,11,0,"ng-template",null,14,t.W1O),t.YNc(21,Me,11,0,"ng-template",null,15,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","A\xf1adir unidad / valor")("items",t.DdM(16,Se)),t.xp6(2),t.Q6J("formGroup",e.measureForm),t.xp6(3),t.Q6J("labelText","Introducir nombre")("currentStatus",e.configList.measureNameConfig.state)("statusMessages",e.measureNameStateMessages),t.xp6(2),t.Q6J("labelText","Introducir abreviatura")("currentStatus",e.configList.measureAbbreviationConfig.state)("statusMessages",e.measureAbbreviationStateMessages),t.xp6(2),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.measureDescriptionConfig.state)("statusMessages",e.measureDescriptionStateMessages),t.xp6(3),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(17,et,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(19,et,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,b.r,C.H,Z.i,N.w],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();const Ae=["info"],Ie=["error"];function we(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",16)(1,"span"),t._uU(2,"Editar unidad / valor"),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",18),t.qZA()(),t.TgZ(5,"div",19)(6,"span"),t._uU(7,"La unidad / valor fue editada"),t.qZA()(),t.TgZ(8,"div",20)(9,"button",21),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function Fe(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",16)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",18),t.qZA()(),t.TgZ(5,"div",19)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",20)(9,"button",21),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const Ue=function(){return["Productos","Editar unidad / valor"]},ot=function(n){return{"d-none":n}};let Oe=(()=>{var n;class s{constructor(o,e,i,d,m,_,v){this.route=o,this.dataService=e,this.formService=i,this.unsubscriberService=d,this.modalService=m,this.cdr=_,this.ngZone=v,this.itemId=0,this.isLoading=!1,this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.measureNameStateMessages={INIT:"Introducir nombre",...this.repeatedStates},this.measureAbbreviationStateMessages={INIT:"Introducir abreviatura",...this.repeatedStates},this.measureDescriptionStateMessages={INIT:"Introducir descripci\xf3n",...this.repeatedStates},this.configList={measureNameConfig:{state:"INIT"},measureAbbreviationConfig:{state:"INIT"},measureDescriptionConfig:{state:"INIT"}},this.measureForm=new r.cw({id:new r.NI(this.itemId,{nonNullable:!0}),nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),abreviatura:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),descripcion:new r.NI("")})}ngOnInit(){this.route.params.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(o=>{this.itemId=o.itemId,this.onLoad()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{(0,f.Z)([[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),delay:.15}],[".row > div",{bottom:["-20px","0px"],opacity:[0,1]},{easing:(0,c.S)(),at:"-0.8",delay:(0,g.EY)(.1)}]])})}onLoad(){this.formService.loadItem(`/medidas/id/${this.itemId}`,this.configList,this.cdr).subscribe(o=>{this.measureForm.patchValue({id:o.id,nombre:o.nombre,abreviatura:o.abreviatura,descripcion:o.descripcion})})}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.measureForm),this.dataService.updateDataFromEndPoint("/medidas",this.measureForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),M.E)),(0,S.x)(()=>this.isLoading=!1)).subscribe(()=>{this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"})}))}isFormInvalid(){return this.formService.isFormInvalid(this.measureForm)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(A.gz),t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-unit-value"]],viewQuery:function(o,e){if(1&o&&(t.Gf(Ae,5),t.Gf(Ie,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:23,vars:21,consts:[[1,"container","px-3"],[3,"title","items"],[1,"p-4","my-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","gy-4"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","nombre",3,"labelText","currentStatus","statusMessages"],["formControlName","abreviatura",3,"labelText","currentStatus","statusMessages"],[1,"col-12"],["formControlName","descripcion",3,"labelText","rows","currentStatus","statusMessages"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"app-view")(1,"div",0),t._UZ(2,"app-title",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"ngx-table-input-control",6),t.qZA(),t.TgZ(8,"div",5),t._UZ(9,"ngx-table-input-control",7),t.qZA(),t.TgZ(10,"div",8),t._UZ(11,"ngx-table-textarea-control",9),t.qZA(),t.TgZ(12,"div",8)(13,"div",10)(14,"button",11),t.ynx(15),t.TgZ(16,"span",12),t._uU(17,"Enviar"),t.qZA(),t._UZ(18,"img",13),t.BQk(),t.qZA()()()()()()()(),t.YNc(19,we,11,0,"ng-template",null,14,t.W1O),t.YNc(21,Fe,11,0,"ng-template",null,15,t.W1O)),2&o&&(t.xp6(2),t.Q6J("title","Editar unidad / valor")("items",t.DdM(16,Ue)),t.xp6(2),t.Q6J("formGroup",e.measureForm),t.xp6(3),t.Q6J("labelText","Introducir nombre")("currentStatus",e.configList.measureNameConfig.state)("statusMessages",e.measureNameStateMessages),t.xp6(2),t.Q6J("labelText","Introducir abreviatura")("currentStatus",e.configList.measureAbbreviationConfig.state)("statusMessages",e.measureAbbreviationStateMessages),t.xp6(2),t.Q6J("labelText","Descripci\xf3n (Opcional)")("rows",5)("currentStatus",e.configList.measureDescriptionConfig.state)("statusMessages",e.measureDescriptionStateMessages),t.xp6(3),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(17,ot,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(19,ot,!e.isLoading)))},dependencies:[h.mk,r._Y,r.JJ,r.JL,r.sg,r.u,b.r,C.H,Z.i,N.w],styles:[".container[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;transition:.3s all ease-in-out}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818;font-weight:400}.container[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}"],changeDetection:0}),s})();var k=l(6055),j=l(8984),Pe=l(7991);function Ee(n,s){1&n&&t._UZ(0,"img",36)}function Le(n,s){1&n&&t._UZ(0,"img",37)}let De=(()=>{var n;class s{constructor(o,e,i){this.menuService=o,this.unsubscriberService=e,this.ngZone=i,this.limit=10,this.entrypoint="/ajustes",this.identifier="id",this.hasViewButton=!0,this.fieldActionName="Acci\xf3n",this.keys=[{property:["id"],type:"TEXT",header:"Id"},{property:["fechaStock"],type:"DATE",header:"Fecha Stock"}],this.selectOptions=[10,15,20],this.preposition="de",this.viewPageUrl="/products/adjustment/view",this.addPageUrl="/products/add-adjustment",this.xlsxFileName="lista-ajustes",this.xlsxPrimaryColor="#432818",this.xlsxSecondaryColor="#F7EFE2",this.pdfFileName="lista-ajustes",this.hasImage=!0,this.imageUrl="https://i.imgur.com/5ZrMWpD.jpg",this.imageWidth=50,this.imageHeight=25,this.pdfPrimaryColor="#432818",this.pdfSecondaryColor="#F7EFE2",this.needAdjustment=!0}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.menuService.getMenuState.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(e=>{(0,k.j)("#view",{paddingLeft:e?"260px":"84px"},this.needAdjustment&&e?{duration:0}:{duration:.6,easing:"ease-in-out"}),this.needAdjustment=!1});const o=[[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{duration:.6,easing:"ease-in-out",delay:(0,g.EY)(.1)}]];(0,f.Z)(o)})}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(j.h),t.Y36(u.$),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-adjustment-list"]],features:[t._Bn([u.$])],decls:60,vars:32,consts:[["id","view"],[1,"container","px-3"],[1,"pt-5","pb-3"],["id","title",1,"h4"],[1,"me-2"],["src","../../../../assets/icons/chevron-right.svg","width","20px","height","20px"],["id","subtitle",1,"ms-2"],[1,"row","gy-4","gx-0","my-5","pb-4","px-4"],[1,"col-8"],[1,"d-flex","mb-2"],[1,"w-100","fw-bold"],[1,"col-4"],[1,"d-flex","justify-content-end","align-items-end","h-100"],[1,"d-flex","justify-content-center","align-items-center"],[3,"fileName","hasImage","imageUrl","imageWidth","imageHeight","primaryColor","secondaryColor"],[3,"fileName","height","width"],[1,"mx-4",3,"fileName","primaryColor","secondaryColor"],[3,"addPageUrl"],[1,"add-item"],["src","../../../../assets/icons/plus.svg","width","18px","height","18px"],[1,"text-nowrap","mx-2"],[1,"col-12"],[3,"entrypoint","dataKeys","identifier","fieldActionName"],["editButton",""],["deleteButton",""],["dataError",""],[3,"fileName","loop","height","width"],["emptyData",""],["notLoaded",""],["src","../../../../assets/icons/brown-spinner.svg","width","40px","height","40px"],[1,"col-6"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fw-bold","me-4"],[1,"d-flex","justify-content-end","align-items-center"],[3,"preposition"],[1,"mx-4"],["src","../../../../assets/icons/pencil.svg","width","24px","height","24px"],["src","../../../../assets/icons/trash.svg","width","24px","height","24px"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"Lista de ajustes"),t.qZA()(),t.TgZ(5,"div")(6,"span",4),t._uU(7,"Ajustes"),t.qZA(),t._UZ(8,"img",5),t.TgZ(9,"span",6),t._uU(10,"Lista de ajustes"),t.qZA()(),t.TgZ(11,"div")(12,"ngx-table")(13,"div",7)(14,"div",8)(15,"div",9)(16,"label",10),t._uU(17,"Fecha inicial"),t.qZA(),t.TgZ(18,"label",10),t._uU(19,"Fecha final"),t.qZA()(),t._UZ(20,"ngx-table-date-input"),t.qZA(),t.TgZ(21,"div",11)(22,"div",12)(23,"div",13)(24,"ngx-table-pdf-export-button",14),t._UZ(25,"app-lottie",15),t.qZA(),t.TgZ(26,"ngx-table-xls-export-button",16),t._UZ(27,"app-lottie",15),t.qZA(),t.TgZ(28,"ngx-table-add-button",17)(29,"div",18)(30,"div"),t._UZ(31,"img",19),t.TgZ(32,"span",20),t._uU(33,"A\xf1adir"),t.qZA()()()()()()(),t.TgZ(34,"div",21)(35,"ngx-table-data-table",22),t.YNc(36,Ee,1,0,"ng-template",null,23,t.W1O),t.YNc(38,Le,1,0,"ng-template",null,24,t.W1O),t.TgZ(40,"div",25),t._UZ(41,"app-lottie",26),t.qZA(),t.TgZ(42,"div",27),t._UZ(43,"app-lottie",26),t.qZA(),t.TgZ(44,"div",28),t._UZ(45,"img",29),t.qZA()()(),t.TgZ(46,"div",30)(47,"div",31)(48,"span",32),t._uU(49,"Filas por p\xe1gina"),t.qZA(),t._UZ(50,"ngx-table-pagination-select"),t.qZA()(),t.TgZ(51,"div",30)(52,"div",33),t._UZ(53,"ngx-table-info-items",34),t.TgZ(54,"ngx-table-previous-button",35)(55,"span"),t._uU(56,"Anterior"),t.qZA()(),t.TgZ(57,"ngx-table-next-button")(58,"span"),t._uU(59,"Siguiente"),t.qZA()()()()()()()()()),2&o&&(t.xp6(15),t.Udp("gap","20px"),t.xp6(9),t.Q6J("fileName",e.pdfFileName)("hasImage",e.hasImage)("imageUrl",e.imageUrl)("imageWidth",e.imageWidth)("imageHeight",e.imageHeight)("primaryColor",e.pdfPrimaryColor)("secondaryColor",e.pdfSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-pdf-animated")("height",24)("width",24),t.xp6(1),t.Q6J("fileName",e.xlsxFileName)("primaryColor",e.xlsxPrimaryColor)("secondaryColor",e.xlsxSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-xls-animated")("height",24)("width",24),t.xp6(1),t.Q6J("addPageUrl",e.addPageUrl),t.xp6(7),t.Q6J("entrypoint",e.entrypoint)("dataKeys",e.keys)("identifier",e.identifier)("fieldActionName",e.fieldActionName),t.xp6(6),t.Q6J("fileName","data-error-animated")("loop",!0)("height",400)("width",400),t.xp6(2),t.Q6J("fileName","no-data-animated")("loop",!0)("height",400)("width",400),t.xp6(10),t.Q6J("preposition",e.preposition))},dependencies:[I.e,w.J,Pe.c,J.i,F.e,U.T,O.P,P.y,E.e,L.g,D.$],styles:["#view[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;padding-top:65px;padding-left:84px}#view[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{font-family:poppins-medium}#view[_ngcontent-%COMP%]   #subtitle[_ngcontent-%COMP%]{color:#b08968}#view[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),s})();var nt=l(2096);const Be=["info"],Je=["error"];function qe(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",26)(1,"span"),t._uU(2,"A\xf1adir ajuste"),t.qZA(),t.TgZ(3,"button",27),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",28),t.qZA()(),t.TgZ(5,"div",29)(6,"span"),t._uU(7,"El ajuste fue a\xf1adido"),t.qZA()(),t.TgZ(8,"div",30)(9,"button",31),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function ke(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",26)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",27),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",28),t.qZA()(),t.TgZ(5,"div",29)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",30)(9,"button",31),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const Q=function(){return["form-label"]},it=function(){return["form-select"]},je=function(){return["form-control"]},rt=function(n){return{"d-none":n}};function He(n,s){1&n&&t._UZ(0,"img",32)}function Ye(n,s){1&n&&t._UZ(0,"img",33)}const $e=["info"],Ke=["error"];function Re(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",26)(1,"span"),t._uU(2,"Editar ajuste"),t.qZA(),t.TgZ(3,"button",27),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",28),t.qZA()(),t.TgZ(5,"div",29)(6,"span"),t._uU(7,"El ajuste fue editado"),t.qZA()(),t.TgZ(8,"div",30)(9,"button",31),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}function Ve(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",26)(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"button",27),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.dismiss())}),t._UZ(4,"img",28),t.qZA()(),t.TgZ(5,"div",29)(6,"span"),t._uU(7,"Ocurri\xf3 un error, int\xe9ntelo de nuevo"),t.qZA()(),t.TgZ(8,"div",30)(9,"button",31),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.KtG(i.close())}),t._uU(10,"Cerrar"),t.qZA()()}}const H=function(){return["form-label"]},at=function(){return["form-select"]},We=function(){return["form-control"]},st=function(n){return{"d-none":n}},ze=[{path:"list",component:ut},{path:"add",component:xt},{path:"list/edit/:itemId",component:Ot},{path:"categories",component:ht},{path:"categories/add",component:Nt},{path:"categories/edit/:itemId",component:Jt},{path:"subcategories",component:Qt},{path:"subcategories/add",component:Rt},{path:"subcategories/edit/:itemId",component:ee},{path:"brands",component:re},{path:"brands/add",component:ue},{path:"brands/edit/:itemId",component:_e},{path:"unit-value",component:xe},{path:"unit-value/add",component:Ne},{path:"unit-value/edit/:itemId",component:Oe},{path:"adjustment",component:De},{path:"add-adjustment",component:(()=>{var n;class s{constructor(o,e,i,d,m,_,v){this.menuService=o,this.dataService=e,this.formService=i,this.unsubscriberService=d,this.modalService=m,this.cdr=_,this.ngZone=v,this.needAdjustment=!0,this.isLoading=!1,this.maxDate=new Date,this.minDate=new Date((new Date).setDate((new Date).getDate()-2)),this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.productStateMessages={INIT:"Seleccionar producto",...this.repeatedStates},this.measureStateMessages={INIT:"Introducir medida",...this.repeatedStates},this.quantityStateMessages={INIT:"Introducir cantidad",...this.repeatedStates},this.adjustmentTypeStateMessages={INIT:"Seleccionar tipo",...this.repeatedStates},this.configList={productConfig:{entrypoint:"/productos",state:"INIT"},measureConfig:{entrypoint:"_",state:"INIT"},quantityConfig:{state:"INIT"},adjustmentTypeConfig:{entrypoint:"/ajustesTipo",state:"INIT"}},this.adjustmentDetailForm=new r.cw({ajuste:new r.cw({id:new r.NI(0,{nonNullable:!0}),fechaStock:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),producto:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),medida:new r.cw({nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})})}),creadoPor:new r.NI("System",{nonNullable:!0}),cantidad:new r.NI(NaN,{nonNullable:!0,validators:[r.kI.required,r.kI.pattern(/^\d+$/)]}),ajusteTipo:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})})})}ngOnInit(){this.onLoad()}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.menuService.getMenuState.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(e=>{(0,k.j)("#view",{paddingLeft:e?"260px":"84px"},this.needAdjustment&&e?{duration:0}:{duration:.6,easing:"ease-in-out"}),this.needAdjustment=!1});const o=[[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{duration:.6,easing:"ease-in-out",delay:(0,g.EY)(.1)}],["form label",{bottom:["-20px","0px"],opacity:[0,1]},{duration:.6,easing:"ease-in-out",at:"-0.8",delay:(0,g.EY)(.05)}],["form input, form select, form textarea, form button",{bottom:["-20px","0px"],opacity:[0,1]},{duration:.6,easing:"ease-in-out",at:"-0.8",delay:(0,g.EY)(.05)}]];(0,f.Z)(o)})}onLoad(){this.products$=this.formService.createObservableForSelect(this.configList.productConfig,!0,this.cdr),this.adjustmentTypes$=this.formService.createObservableForSelect(this.configList.adjustmentTypeConfig,!0,this.cdr)}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.adjustmentDetailForm),this.dataService.addDataFromEndPoint("/ajustesDetalle",this.adjustmentDetailForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),(0,nt.of)()))).subscribe(()=>{this.isLoading=!1,this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"}),this.adjustmentDetailForm.reset()}))}isFormInvalid(){return this.formService.isFormInvalid(this.adjustmentDetailForm)}onProductChange(o){const e=o;0!=e&&(this.adjustmentDetailForm.controls.producto.controls.medida.controls.nombre.reset(),this.configList.measureConfig.entrypoint=`/medidas/productId/${e}`,this.measure$=this.formService.createObservableForInput(this.configList.measureConfig,!0,this.cdr))}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(j.h),t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-adjustment"]],viewQuery:function(o,e){if(1&o&&(t.Gf(Be,5),t.Gf(Je,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:39,vars:46,consts:[["id","view"],[1,"container","px-3"],[1,"pt-5","pb-3"],["id","title",1,"h4"],[1,"me-2"],["src","../../../../assets/icons/chevron-right.svg","width","20px","height","20px"],["id","subtitle",1,"ms-2"],[1,"pb-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","g-4","my-5","mx-0","pb-4"],["formGroupName","producto",1,"col-4"],["formControlName","id",3,"labelText","labelClasses","inputClasses","dataList","dataKey","currentStatus","statusMessages","controlChange"],[1,"col-4"],["formControlName","cantidad",3,"labelText","labelClasses","inputClasses","inputType","currentStatus","statusMessages","keypress"],["formGroupName","ajusteTipo",1,"col-4"],["formControlName","id",3,"labelText","labelClasses","inputClasses","dataList","dataKey","currentStatus","statusMessages"],["formGroupName","ajuste",1,"col-4"],[1,"form-label"],["type","date","formControlName","fechaStock",1,"form-control",3,"min","max"],[1,"col-12"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","../../../../assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","../../../../assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"A\xf1adir ajuste"),t.qZA()(),t.TgZ(5,"div")(6,"span",4),t._uU(7,"Productos"),t.qZA(),t._UZ(8,"img",5),t.TgZ(9,"span",6),t._uU(10,"A\xf1adir ajuste"),t.qZA()(),t.TgZ(11,"div",7)(12,"form",8),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(13,"div",9)(14,"div",10)(15,"ngx-table-select-control",11),t.NdJ("controlChange",function(d){return e.onProductChange(d)}),t.ALo(16,"async"),t.qZA()(),t.TgZ(17,"div",12)(18,"ngx-table-input-control",13),t.NdJ("keypress",function(d){return e.formService.onKeyPress(d)}),t.qZA()(),t.TgZ(19,"div",14),t._UZ(20,"ngx-table-select-control",15),t.ALo(21,"async"),t.qZA(),t.TgZ(22,"div",16)(23,"label",17),t._uU(24,"Fecha"),t.qZA(),t._UZ(25,"input",18),t.ALo(26,"date"),t.ALo(27,"date"),t.qZA(),t.TgZ(28,"div",19)(29,"div",20)(30,"button",21),t.ynx(31),t.TgZ(32,"span",22),t._uU(33,"Enviar"),t.qZA(),t._UZ(34,"img",23),t.BQk(),t.qZA()()()()()()()(),t.YNc(35,qe,11,0,"ng-template",null,24,t.W1O),t.YNc(37,ke,11,0,"ng-template",null,25,t.W1O)),2&o&&(t.xp6(12),t.Q6J("formGroup",e.adjustmentDetailForm),t.xp6(3),t.Q6J("labelText","Producto")("labelClasses",t.DdM(36,Q))("inputClasses",t.DdM(37,it))("dataList",t.lcZ(16,26,e.products$))("dataKey","nombre")("currentStatus",e.configList.productConfig.state)("statusMessages",e.productStateMessages),t.xp6(3),t.Q6J("labelText","Cantidad")("labelClasses",t.DdM(38,Q))("inputClasses",t.DdM(39,je))("inputType","number")("currentStatus",e.configList.quantityConfig.state)("statusMessages",e.quantityStateMessages),t.xp6(2),t.Q6J("labelText","Tipo de ajuste")("labelClasses",t.DdM(40,Q))("inputClasses",t.DdM(41,it))("dataList",t.lcZ(21,28,e.adjustmentTypes$))("dataKey","nombre")("currentStatus",e.configList.adjustmentTypeConfig.state)("statusMessages",e.adjustmentTypeStateMessages),t.xp6(5),t.Q6J("min",t.xi3(26,30,e.minDate,"yyyy-MM-dd"))("max",t.xi3(27,33,e.maxDate,"yyyy-MM-dd")),t.xp6(5),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(42,rt,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(44,rt,!e.isLoading)))},dependencies:[h.mk,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.x0,q.A,Z.i,h.Ov,h.uU],styles:['#view[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;padding-top:65px;padding-left:84px}#view[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{font-family:poppins-medium}#view[_ngcontent-%COMP%]   #subtitle[_ngcontent-%COMP%]{color:#b08968}#view[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}#view[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;padding-left:12px;padding-right:12px;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}#view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:poppins-medium;position:relative}#view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], #view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{position:relative;border-radius:8px;border:1px solid #b08968;font-size:14px}#view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, #view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#b08968}#view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, #view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#b08968}#view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, #view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:inherit}#view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:has( > option[value=""][_ngcontent-%COMP%]:checked), #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:has( > option[value="0"][_ngcontent-%COMP%]:checked){color:#b08968}#view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}#view[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{position:relative;font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818}#view[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}'],changeDetection:0}),s})()},{path:"adjustment/view/:itemId",component:(()=>{var n;class s{constructor(o,e,i,d){this.route=o,this.menuService=e,this.unsubscriberService=i,this.ngZone=d,this.limit=10,this.identifier="id",this.hasEditButton=!0,this.hasDeleteButton=!0,this.fieldActionName="Acci\xf3n",this.keys=[{property:["productoId"],type:"TEXT",header:"Id producto"},{property:["productoNombre"],type:"TEXT",header:"Nombre"},{property:["productoMedida"],type:"TEXT",header:"Medida"},{property:["cantidad"],type:"TEXT",header:"Cantidad"},{property:["tipo"],type:"TEXT",header:"Tipo"},{property:["creadoPor"],type:"TEXT",header:"Creado Por"}],this.selectOptions=[10,15,20],this.preposition="de",this.deleteModalHeaderText="Borrar ajuste",this.deleteModalBodyText="\xbfEst\xe1s seguro que deseas borrar el ajuste?",this.deleteModalFooterButtonCloseText="Cerrar",this.deleteModalFooterButtonExecuteText="Borrar",this.errorModalHeaderText="Error",this.errorModalBodyText="Ocurri\xf3 un error, int\xe9ntelo de nuevo",this.errorModalFooterButtonCloseText="Cerrar",this.xlsxFileName="lista-ajustes",this.xlsxPrimaryColor="#432818",this.xlsxSecondaryColor="#F7EFE2",this.pdfFileName="lista-ajustes",this.hasImage=!0,this.imageUrl="https://i.imgur.com/5ZrMWpD.jpg",this.imageWidth=50,this.imageHeight=25,this.pdfPrimaryColor="#432818",this.pdfSecondaryColor="#F7EFE2",this.needAdjustment=!0}ngOnInit(){this.route.params.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(o=>{this.entrypoint=`/ajustesDetalle/${o.adjustmentId}`,this.editPageUrl=`/products/adjustment/view/${o.adjustmentId}/edit`})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.menuService.getMenuState.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(e=>{(0,k.j)("#view",{paddingLeft:e?"260px":"84px"},this.needAdjustment&&e?{duration:0}:{duration:.6,easing:"ease-in-out"}),this.needAdjustment=!1});const o=[[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{duration:.6,easing:"ease-in-out",delay:(0,g.EY)(.1)}]];(0,f.Z)(o)})}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(A.gz),t.Y36(j.h),t.Y36(u.$),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-adjustment"]],features:[t._Bn([u.$])],decls:53,vars:40,consts:[["id","view"],[1,"container","px-3"],[1,"pt-5","pb-3"],["id","title",1,"h4"],[1,"me-2"],["src","../../../../assets/icons/chevron-right.svg","width","20px","height","20px"],["id","subtitle",1,"ms-2"],[1,"row","gy-4","gx-0","my-5","pb-4","px-4"],[1,"col-4"],[1,"d-block","fw-bold","mb-2"],[3,"placeholder"],["src","../../../../assets/icons/search.svg","width","18px","height","18px",1,"mx-3"],[1,"d-flex","justify-content-end","align-items-end","h-100"],[1,"d-flex","justify-content-center","align-items-center"],[3,"fileName","hasImage","imageUrl","imageWidth","imageHeight","primaryColor","secondaryColor"],[3,"fileName","height","width"],[1,"mx-4",3,"fileName","primaryColor","secondaryColor"],[1,"col-12"],[3,"entrypoint","dataKeys","identifier","hasEditButton","hasDeleteButton","editPageUrl","fieldActionName","deleteModalHeaderText","deleteModalBodyText","deleteModalFooterButtonCloseText","deleteModalFooterButtonExecuteText","errorModalHeaderText","errorModalBodyText","errorModalFooterButtonCloseText"],["editButton",""],["deleteButton",""],["dataError",""],[3,"fileName","loop","height","width"],["emptyData",""],["notLoaded",""],["src","../../../../assets/icons/brown-spinner.svg","width","40px","height","40px"],[1,"col-6"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fw-bold","me-4"],[1,"d-flex","justify-content-end","align-items-center"],[3,"preposition"],[1,"mx-4"],["src","../../../../assets/icons/pencil.svg","width","24px","height","24px"],["src","../../../../assets/icons/trash.svg","width","24px","height","24px"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"Lista de ajustes (detalle)"),t.qZA()(),t.TgZ(5,"div")(6,"span",4),t._uU(7,"Ajustes"),t.qZA(),t._UZ(8,"img",5),t.TgZ(9,"span",6),t._uU(10,"Lista de ajustes (detalle)"),t.qZA()(),t.TgZ(11,"div")(12,"ngx-table")(13,"div",7)(14,"div",8)(15,"span",9),t._uU(16,"Buscar por nombre"),t.qZA(),t.TgZ(17,"ngx-table-search-input",10),t._UZ(18,"img",11),t.qZA()(),t._UZ(19,"div",8),t.TgZ(20,"div",8)(21,"div",12)(22,"div",13)(23,"ngx-table-pdf-export-button",14),t._UZ(24,"app-lottie",15),t.qZA(),t.TgZ(25,"ngx-table-xls-export-button",16),t._UZ(26,"app-lottie",15),t.qZA()()()(),t.TgZ(27,"div",17)(28,"ngx-table-data-table",18),t.YNc(29,He,1,0,"ng-template",null,19,t.W1O),t.YNc(31,Ye,1,0,"ng-template",null,20,t.W1O),t.TgZ(33,"div",21),t._UZ(34,"app-lottie",22),t.qZA(),t.TgZ(35,"div",23),t._UZ(36,"app-lottie",22),t.qZA(),t.TgZ(37,"div",24),t._UZ(38,"img",25),t.qZA()()(),t.TgZ(39,"div",26)(40,"div",27)(41,"span",28),t._uU(42,"Filas por p\xe1gina"),t.qZA(),t._UZ(43,"ngx-table-pagination-select"),t.qZA()(),t.TgZ(44,"div",26)(45,"div",29),t._UZ(46,"ngx-table-info-items",30),t.TgZ(47,"ngx-table-previous-button",31)(48,"span"),t._uU(49,"Anterior"),t.qZA()(),t.TgZ(50,"ngx-table-next-button")(51,"span"),t._uU(52,"Siguiente"),t.qZA()()()()()()()()()),2&o&&(t.xp6(17),t.Q6J("placeholder","Buscar"),t.xp6(6),t.Q6J("fileName",e.pdfFileName)("hasImage",e.hasImage)("imageUrl",e.imageUrl)("imageWidth",e.imageWidth)("imageHeight",e.imageHeight)("primaryColor",e.pdfPrimaryColor)("secondaryColor",e.pdfSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-pdf-animated")("height",24)("width",24),t.xp6(1),t.Q6J("fileName",e.xlsxFileName)("primaryColor",e.xlsxPrimaryColor)("secondaryColor",e.xlsxSecondaryColor),t.xp6(1),t.Q6J("fileName","file-type-xls-animated")("height",24)("width",24),t.xp6(2),t.Q6J("entrypoint",e.entrypoint)("dataKeys",e.keys)("identifier",e.identifier)("hasEditButton",e.hasEditButton)("hasDeleteButton",e.hasDeleteButton)("editPageUrl",e.editPageUrl)("fieldActionName",e.fieldActionName)("deleteModalHeaderText",e.deleteModalHeaderText)("deleteModalBodyText",e.deleteModalBodyText)("deleteModalFooterButtonCloseText",e.deleteModalFooterButtonCloseText)("deleteModalFooterButtonExecuteText",e.deleteModalFooterButtonExecuteText)("errorModalHeaderText",e.errorModalHeaderText)("errorModalBodyText",e.errorModalBodyText)("errorModalFooterButtonCloseText",e.errorModalFooterButtonCloseText),t.xp6(6),t.Q6J("fileName","data-error-animated")("loop",!0)("height",400)("width",400),t.xp6(2),t.Q6J("fileName","no-data-animated")("loop",!0)("height",400)("width",400),t.xp6(10),t.Q6J("preposition",e.preposition))},dependencies:[I.e,w.J,B.h,F.e,U.T,O.P,P.y,E.e,L.g,D.$],styles:["#view[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;padding-top:65px;padding-left:84px}#view[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{font-family:poppins-medium}#view[_ngcontent-%COMP%]   #subtitle[_ngcontent-%COMP%]{color:#b08968}#view[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),s})()},{path:"adjustment/view/:adjustmentId/edit/:itemId",component:(()=>{var n;class s{constructor(o,e,i,d,m,_,v,io){this.route=o,this.menuService=e,this.dataService=i,this.formService=d,this.unsubscriberService=m,this.modalService=_,this.cdr=v,this.ngZone=io,this.needAdjustment=!0,this.isLoading=!1,this.maxDate=new Date,this.minDate=new Date((new Date).setDate((new Date).getDate()-2)),this.repeatedStates={LOADING:"Cargando ...",ERROR:"Ocurri\xf3 un error",NODATA:"Sin resultados"},this.productStateMessages={INIT:"Seleccionar producto",...this.repeatedStates},this.measureStateMessages={INIT:"Introducir medida",...this.repeatedStates},this.quantityStateMessages={INIT:"Introducir cantidad",...this.repeatedStates},this.adjustmentTypeStateMessages={INIT:"Seleccionar tipo",...this.repeatedStates},this.configList={productConfig:{entrypoint:"/productos",state:"INIT"},measureConfig:{entrypoint:"_",state:"INIT"},quantityConfig:{state:"INIT"},adjustmentTypeConfig:{entrypoint:"/ajustesTipo",state:"INIT"}},this.adjustmentDetailForm=new r.cw({id:new r.NI(0,{nonNullable:!0}),ajuste:new r.cw({id:new r.NI(0,{nonNullable:!0}),fechaStock:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})}),producto:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]}),medida:new r.cw({nombre:new r.NI("",{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})})}),creadoPor:new r.NI("System",{nonNullable:!0}),cantidad:new r.NI(NaN,{nonNullable:!0,validators:[r.kI.required,r.kI.pattern(/^\d+$/)]}),ajusteTipo:new r.cw({id:new r.NI(0,{nonNullable:!0,validators:[this.formService.handleInvalidInput()]})})})}ngOnInit(){this.route.params.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(o=>{this.adjustmentDetailId=o.adjustmentDetailId,this.onLoad()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.menuService.getMenuState.pipe(this.unsubscriberService.takeUntilDestroy).subscribe(e=>{(0,k.j)("#view",{paddingLeft:e?"260px":"84px"},this.needAdjustment&&e?{duration:0}:{duration:.6,easing:"ease-in-out"}),this.needAdjustment=!1});const o=[[".container > div",{bottom:["-20px","0px"],opacity:[0,1]},{duration:.6,easing:"ease-in-out",delay:(0,g.EY)(.1)}],["form label",{bottom:["-20px","0px"],opacity:[0,1]},{duration:.6,easing:"ease-in-out",at:"-0.8",delay:(0,g.EY)(.05)}],["form input, form select, form textarea, form button",{bottom:["-20px","0px"],opacity:[0,1]},{duration:.6,easing:"ease-in-out",at:"-0.8",delay:(0,g.EY)(.05)}]];(0,f.Z)(o)})}onLoad(){this.formService.loadItem(`/ajustesDetalle/id/${this.adjustmentDetailId}`,this.configList,this.cdr).subscribe(o=>{this.adjustmentDetailForm.controls.id.setValue(o.id),this.adjustmentDetailForm.controls.ajuste.controls.fechaStock.setValue(o.ajuste.fechaStock),this.adjustmentDetailForm.controls.producto.controls.id.setValue(o.producto.id),this.adjustmentDetailForm.controls.producto.controls.medida.controls.nombre.setValue(o.producto.medida.nombre),this.adjustmentDetailForm.controls.creadoPor.setValue(o.creadoPor),this.adjustmentDetailForm.controls.cantidad.setValue(o.cantidad),this.adjustmentDetailForm.controls.ajusteTipo.controls.id.setValue(o.ajusteTipo.id),this.products$=this.formService.createObservableForSelect(this.configList.productConfig,!0,this.cdr),this.adjustmentTypes$=this.formService.createObservableForSelect(this.configList.adjustmentTypeConfig,!0,this.cdr)})}onSubmit(){this.isFormInvalid()||(this.isLoading=!0,this.formService.capitalizeFormControl(this.adjustmentDetailForm),this.dataService.updateDataFromEndPoint("/ajustesDetalle",this.adjustmentDetailForm.value).pipe(this.unsubscriberService.takeUntilDestroy,(0,x.K)(()=>(this.isLoading=!1,this.modalService.open(this.error,{centered:!0,modalDialogClass:"error"}),(0,nt.of)()))).subscribe(()=>{this.isLoading=!1,this.modalService.open(this.info,{centered:!0,modalDialogClass:"success"})}))}isFormInvalid(){return this.formService.isFormInvalid(this.adjustmentDetailForm)}onProductChange(o){const e=o;0!=e&&(this.adjustmentDetailForm.controls.producto.controls.medida.controls.nombre.reset(),this.configList.measureConfig.entrypoint=`/medidas/productId/${e}`,this.measure$=this.formService.createObservableForInput(this.configList.measureConfig,!0,this.cdr))}}return(n=s).\u0275fac=function(o){return new(o||n)(t.Y36(A.gz),t.Y36(j.h),t.Y36(y.R),t.Y36(p.F),t.Y36(u.$),t.Y36(T.FF),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-adjustment"]],viewQuery:function(o,e){if(1&o&&(t.Gf($e,5),t.Gf(Ke,5)),2&o){let i;t.iGM(i=t.CRH())&&(e.info=i.first),t.iGM(i=t.CRH())&&(e.error=i.first)}},features:[t._Bn([p.F,u.$])],decls:39,vars:46,consts:[["id","view"],[1,"container","px-3"],[1,"pt-5","pb-3"],["id","title",1,"h4"],[1,"me-2"],["src","../../../../assets/icons/chevron-right.svg","width","20px","height","20px"],["id","subtitle",1,"ms-2"],[1,"pb-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","g-4","my-5","mx-0","pb-4"],["formGroupName","producto",1,"col-4"],["formControlName","id",3,"labelText","labelClasses","inputClasses","dataList","dataKey","currentStatus","statusMessages","controlChange"],[1,"col-4"],["formControlName","cantidad",3,"labelText","labelClasses","inputClasses","inputType","currentStatus","statusMessages","keypress"],["formGroupName","ajusteTipo",1,"col-4"],["formControlName","id",3,"labelText","labelClasses","inputClasses","dataList","dataKey","currentStatus","statusMessages"],["formGroupName","ajuste",1,"col-4"],[1,"form-label"],["type","date","formControlName","fechaStock",1,"form-control",3,"min","max"],[1,"col-12"],[1,"d-flex","justify-content-end"],["type","submit","id","send-button",1,"text-white",3,"disabled"],[3,"ngClass"],["src","../../../../assets/icons/white-spinner.svg",3,"ngClass"],["info",""],["error",""],[1,"modal-header"],[3,"click"],["src","../../../../assets/icons/x.svg","width","24px","height","24px"],[1,"modal-body"],[1,"modal-footer"],["type","button",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"Editar ajuste"),t.qZA()(),t.TgZ(5,"div")(6,"span",4),t._uU(7,"Productos"),t.qZA(),t._UZ(8,"img",5),t.TgZ(9,"span",6),t._uU(10,"Editar ajuste"),t.qZA()(),t.TgZ(11,"div",7)(12,"form",8),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(13,"div",9)(14,"div",10)(15,"ngx-table-select-control",11),t.NdJ("controlChange",function(d){return e.onProductChange(d)}),t.ALo(16,"async"),t.qZA()(),t.TgZ(17,"div",12)(18,"ngx-table-input-control",13),t.NdJ("keypress",function(d){return e.formService.onKeyPress(d)}),t.qZA()(),t.TgZ(19,"div",14),t._UZ(20,"ngx-table-select-control",15),t.ALo(21,"async"),t.qZA(),t.TgZ(22,"div",16)(23,"label",17),t._uU(24,"Fecha"),t.qZA(),t._UZ(25,"input",18),t.ALo(26,"date"),t.ALo(27,"date"),t.qZA(),t.TgZ(28,"div",19)(29,"div",20)(30,"button",21),t.ynx(31),t.TgZ(32,"span",22),t._uU(33,"Enviar"),t.qZA(),t._UZ(34,"img",23),t.BQk(),t.qZA()()()()()()()(),t.YNc(35,Re,11,0,"ng-template",null,24,t.W1O),t.YNc(37,Ve,11,0,"ng-template",null,25,t.W1O)),2&o&&(t.xp6(12),t.Q6J("formGroup",e.adjustmentDetailForm),t.xp6(3),t.Q6J("labelText","Producto")("labelClasses",t.DdM(36,H))("inputClasses",t.DdM(37,at))("dataList",t.lcZ(16,26,e.products$))("dataKey","nombre")("currentStatus",e.configList.productConfig.state)("statusMessages",e.productStateMessages),t.xp6(3),t.Q6J("labelText","Cantidad")("labelClasses",t.DdM(38,H))("inputClasses",t.DdM(39,We))("inputType","number")("currentStatus",e.configList.quantityConfig.state)("statusMessages",e.quantityStateMessages),t.xp6(2),t.Q6J("labelText","Tipo de ajuste")("labelClasses",t.DdM(40,H))("inputClasses",t.DdM(41,at))("dataList",t.lcZ(21,28,e.adjustmentTypes$))("dataKey","nombre")("currentStatus",e.configList.adjustmentTypeConfig.state)("statusMessages",e.adjustmentTypeStateMessages),t.xp6(5),t.Q6J("min",t.xi3(26,30,e.minDate,"yyyy-MM-dd"))("max",t.xi3(27,33,e.maxDate,"yyyy-MM-dd")),t.xp6(5),t.Q6J("disabled",e.isFormInvalid()||e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(42,st,e.isLoading)),t.xp6(2),t.Q6J("ngClass",t.VKq(44,st,!e.isLoading)))},dependencies:[h.mk,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.x0,q.A,Z.i,h.Ov,h.uU],styles:['#view[_ngcontent-%COMP%]{font-family:poppins-regular;color:#432818;font-size:14px;padding-top:65px;padding-left:84px}#view[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{font-family:poppins-medium}#view[_ngcontent-%COMP%]   #subtitle[_ngcontent-%COMP%]{color:#b08968}#view[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}#view[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;padding-left:12px;padding-right:12px;background-color:#fff;border-radius:8px;box-shadow:#919eab4d 0 0 2px,#919eab1f 0 12px 24px -4px}#view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:poppins-medium;position:relative}#view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], #view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{position:relative;border-radius:8px;border:1px solid #b08968;font-size:14px}#view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, #view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#b08968}#view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, #view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#b08968}#view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, #view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:inherit}#view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:has( > option[value=""][_ngcontent-%COMP%]:checked), #view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:has( > option[value="0"][_ngcontent-%COMP%]:checked){color:#b08968}#view[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}#view[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]{position:relative;font-size:14px;width:110px;border-radius:8px;border:1px solid #432818;padding:6px 12px;background-color:#432818}#view[_ngcontent-%COMP%]   #send-button[_ngcontent-%COMP%]:disabled{background-color:#695346;border-color:#695346;cursor:not-allowed}'],changeDetection:0}),s})()},{path:"**",redirectTo:"list"}];let Xe=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[A.Bz.forChild(ze),A.Bz]}),s})();var to=l(5231),eo=l(5910);const oo={textType:n=>n?"number"==typeof n?n:n.charAt(0).toUpperCase()+n.slice(1):"",moneyType:n=>n?"s/. "+n:"",dateType:n=>(0,h.p6)(n,"d LLLL y","es-PE"),imageType:n=>n?`<a href="http://localhost:8080/images/productos/${n}" target="_blank"><img src="../../../../assets/icons/photo.svg" width="24px" height="24px"/></a>`:'<img src="../../../../assets/icons/no-photo.svg" width="24px" height="24px"/>'};let no=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:eo.p,useValue:oo}],imports:[h.ez,Xe,to.m]}),s})()}}]);